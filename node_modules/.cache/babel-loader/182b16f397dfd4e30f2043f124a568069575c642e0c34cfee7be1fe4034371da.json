{"ast":null,"code":"import _regeneratorRuntime from\"/home/iam/Documents/network/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/iam/Documents/network/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/iam/Documents/network/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Button,Modal,Card,Space,Col}from'antd';import React from'react';import ubusApi from'../../../../service/api/ubus-api';import{useTranslation}from\"react-i18next\";import\"../../../../translations/i18n\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var ShutdownSystem=function ShutdownSystem(props){var _useTranslation=useTranslation(),t=_useTranslation.t;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),showModal=_React$useState2[0],setShowModal=_React$useState2[1];var onShowModal=function onShowModal(group){setShowModal(true);};var onModalCancel=function onModalCancel(){setShowModal(false);};var onModalOk=function onModalOk(){setShowModal(false);};var onFinish=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var shutdown;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return ubusApi.config_system_shutdown();case 2:shutdown=_context.sent;setShowModal(false);case 4:case\"end\":return _context.stop();}}},_callee);}));return function onFinish(){return _ref.apply(this,arguments);};}();var onConfirm=function onConfirm(){if(!showModal){return null;}return/*#__PURE__*/_jsx(Modal,{width:500,open:true,onCancel:onModalCancel,onOk:onModalOk,footer:null,children:/*#__PURE__*/_jsx(Col,{md:23,children:/*#__PURE__*/_jsx(Card,{title:t('title_shutdown'),type:\"inner\",headStyle:{background:\"#faad14\"},children:/*#__PURE__*/_jsxs(Space,{size:\"large\",children:[/*#__PURE__*/_jsx(Button,{onClick:onModalCancel,children:t(\"cancel\")}),/*#__PURE__*/_jsx(Button,{type:\"primary\",danger:true,onClick:onFinish,children:t(\"shutdown\")})]})})})});};return/*#__PURE__*/_jsx(Card,{title:t(\"shutdown\"),type:\"inner\",headStyle:{background:\"linear-gradient(45deg, #07117e, #07117e\",color:'white'},children:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",size:\"middle\",style:{display:'flex'},children:[onConfirm(),/*#__PURE__*/_jsx(Button,{type:\"primary\",danger:true,onClick:onShowModal,children:t(\"shutdown\")})]})});};","map":{"version":3,"names":["Button","Modal","Card","Space","Col","React","ubusApi","useTranslation","ShutdownSystem","props","t","useState","showModal","setShowModal","onShowModal","group","onModalCancel","onModalOk","onFinish","config_system_shutdown","shutdown","onConfirm","background","color","display"],"sources":["/home/iam/Documents/network/src/components/antd/system/shutdown/form.tsx"],"sourcesContent":["import { Button, Modal, Card, Space, Col } from 'antd'\nimport React from 'react';\nimport ubusApi from '../../../../service/api/ubus-api'\nimport { useTranslation } from \"react-i18next\";\nimport \"../../../../translations/i18n\";\n\nexport const ShutdownSystem = (props: any) => {\n    const { t } = useTranslation();\n\n    const [showModal, setShowModal] = React.useState(false)\n\n    const onShowModal = (group: any) => {\n        setShowModal(true)\n    }\n\n    const onModalCancel = () => {\n        setShowModal(false)\n    }\n    const onModalOk = () => {\n        setShowModal(false)\n    }\n\n    const onFinish = async () => {\n        const shutdown = await ubusApi.config_system_shutdown()\n        setShowModal(false)\n    }\n\n    const onConfirm = () => {\n        if (!showModal) {\n            return null\n        }\n        return (\n            <Modal width={500} open={true} onCancel={onModalCancel} onOk={onModalOk} footer={null}>\n                <Col md={23}>\n                    <Card title={t('title_shutdown')} type=\"inner\" headStyle={{ background: \"#faad14\"}}>\n                        <Space size='large' >\n                            <Button onClick={onModalCancel} >\n                                {t(\"cancel\")}\n                            </Button>\n                            <Button type=\"primary\" danger onClick={onFinish} >\n                                {t(\"shutdown\")}\n                            </Button>\n                        </Space>\n                    </Card>\n                </Col>\n            </Modal>\n        )\n    }\n    return (\n        <Card title={t(\"shutdown\")} type=\"inner\" headStyle={{ background: \"linear-gradient(45deg, #07117e, #07117e\", color: 'white', }}>\n            <Space\n                direction=\"vertical\"\n                size=\"middle\"\n                style={{\n                    display: 'flex',\n                }}\n            >\n                {/* <span>{t(\"help_reset\")}</span> */}\n                {onConfirm()}\n                <Button type=\"primary\" danger onClick={onShowModal} >\n                    {t(\"shutdown\")}\n                </Button>\n            </Space>\n        </Card>\n    )\n}"],"mappings":"mWAAA,OAASA,MAAM,CAAEC,KAAK,CAAEC,IAAI,CAAEC,KAAK,CAAEC,GAAG,KAAQ,MAAM,CACtD,MAAOC,MAAK,KAAM,OAAO,CACzB,MAAOC,QAAO,KAAM,kCAAkC,CACtD,OAASC,cAAc,KAAQ,eAAe,CAC9C,MAAO,+BAA+B,CAAC,wFAEvC,MAAO,IAAMC,eAAc,CAAG,QAAjBA,eAAc,CAAIC,KAAU,CAAK,CAC1C,oBAAcF,cAAc,EAAE,CAAtBG,CAAC,iBAADA,CAAC,CAET,oBAAkCL,KAAK,CAACM,QAAQ,CAAC,KAAK,CAAC,oDAAhDC,SAAS,qBAAEC,YAAY,qBAE9B,GAAMC,YAAW,CAAG,QAAdA,YAAW,CAAIC,KAAU,CAAK,CAChCF,YAAY,CAAC,IAAI,CAAC,CACtB,CAAC,CAED,GAAMG,cAAa,CAAG,QAAhBA,cAAa,EAAS,CACxBH,YAAY,CAAC,KAAK,CAAC,CACvB,CAAC,CACD,GAAMI,UAAS,CAAG,QAAZA,UAAS,EAAS,CACpBJ,YAAY,CAAC,KAAK,CAAC,CACvB,CAAC,CAED,GAAMK,SAAQ,4FAAG,wKACUZ,QAAO,CAACa,sBAAsB,EAAE,QAAjDC,QAAQ,eACdP,YAAY,CAAC,KAAK,CAAC,uDACtB,kBAHKK,SAAQ,0CAGb,CAED,GAAMG,UAAS,CAAG,QAAZA,UAAS,EAAS,CACpB,GAAI,CAACT,SAAS,CAAE,CACZ,MAAO,KAAI,CACf,CACA,mBACI,KAAC,KAAK,EAAC,KAAK,CAAE,GAAI,CAAC,IAAI,CAAE,IAAK,CAAC,QAAQ,CAAEI,aAAc,CAAC,IAAI,CAAEC,SAAU,CAAC,MAAM,CAAE,IAAK,uBAClF,KAAC,GAAG,EAAC,EAAE,CAAE,EAAG,uBACR,KAAC,IAAI,EAAC,KAAK,CAAEP,CAAC,CAAC,gBAAgB,CAAE,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAE,CAAEY,UAAU,CAAE,SAAS,CAAE,uBAC/E,MAAC,KAAK,EAAC,IAAI,CAAC,OAAO,wBACf,KAAC,MAAM,EAAC,OAAO,CAAEN,aAAc,UAC1BN,CAAC,CAAC,QAAQ,CAAC,EACP,cACT,KAAC,MAAM,EAAC,IAAI,CAAC,SAAS,CAAC,MAAM,MAAC,OAAO,CAAEQ,QAAS,UAC3CR,CAAC,CAAC,UAAU,CAAC,EACT,GACL,EACL,EACL,EACF,CAEhB,CAAC,CACD,mBACI,KAAC,IAAI,EAAC,KAAK,CAAEA,CAAC,CAAC,UAAU,CAAE,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAE,CAAEY,UAAU,CAAE,yCAAyC,CAAEC,KAAK,CAAE,OAAS,CAAE,uBAC3H,MAAC,KAAK,EACF,SAAS,CAAC,UAAU,CACpB,IAAI,CAAC,QAAQ,CACb,KAAK,CAAE,CACHC,OAAO,CAAE,MACb,CAAE,WAGDH,SAAS,EAAE,cACZ,KAAC,MAAM,EAAC,IAAI,CAAC,SAAS,CAAC,MAAM,MAAC,OAAO,CAAEP,WAAY,UAC9CJ,CAAC,CAAC,UAAU,CAAC,EACT,GACL,EACL,CAEf,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}