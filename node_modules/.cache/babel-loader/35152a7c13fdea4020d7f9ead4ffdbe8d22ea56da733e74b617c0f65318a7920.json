{"ast":null,"code":"import { __assign, __extends } from \"tslib\";\nimport GroupComponent from '../abstract/group-component';\nimport { regionToBBox } from '../util/util';\nvar ImageAnnotation = /** @class */function (_super) {\n  __extends(ImageAnnotation, _super);\n  function ImageAnnotation() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * @protected\n   * 默认的配置项\n   * @returns {object} 默认的配置项\n   */\n  ImageAnnotation.prototype.getDefaultCfg = function () {\n    var cfg = _super.prototype.getDefaultCfg.call(this);\n    return __assign(__assign({}, cfg), {\n      name: 'annotation',\n      type: 'image',\n      locationType: 'region',\n      start: null,\n      end: null,\n      src: null,\n      style: {}\n    });\n  };\n  ImageAnnotation.prototype.renderInner = function (group) {\n    this.renderImage(group);\n  };\n  ImageAnnotation.prototype.getImageAttrs = function () {\n    var start = this.get('start');\n    var end = this.get('end');\n    var style = this.get('style');\n    var bbox = regionToBBox({\n      start: start,\n      end: end\n    });\n    var src = this.get('src');\n    return __assign({\n      x: bbox.x,\n      y: bbox.y,\n      img: src,\n      width: bbox.width,\n      height: bbox.height\n    }, style);\n  };\n  // 绘制图片\n  ImageAnnotation.prototype.renderImage = function (group) {\n    this.addShape(group, {\n      type: 'image',\n      id: this.getElementId('image'),\n      name: 'annotation-image',\n      attrs: this.getImageAttrs()\n    });\n  };\n  return ImageAnnotation;\n}(GroupComponent);\nexport default ImageAnnotation;","map":{"version":3,"mappings":";AACA,OAAOA,cAAc,MAAM,6BAA6B;AAGxD,SAASC,YAAY,QAAQ,cAAc;AAE3C;EAA8BC;EAA9B;;EAiDA;EAhDE;;;;;EAKOC,uCAAa,GAApB;IACE,IAAMC,GAAG,GAAGC,iBAAMC,aAAa,WAAE;IACjC,6BACKF,GAAG;MACNG,IAAI,EAAE,YAAY;MAClBC,IAAI,EAAE,OAAO;MACbC,YAAY,EAAE,QAAQ;MACtBC,KAAK,EAAE,IAAI;MACXC,GAAG,EAAE,IAAI;MACTC,GAAG,EAAE,IAAI;MACTC,KAAK,EAAE;IAAE;EAEb,CAAC;EAEMV,qCAAW,GAAlB,UAAmBW,KAAa;IAC9B,IAAI,CAACC,WAAW,CAACD,KAAK,CAAC;EACzB,CAAC;EAEOX,uCAAa,GAArB;IACE,IAAMO,KAAK,GAAG,IAAI,CAACM,GAAG,CAAC,OAAO,CAAC;IAC/B,IAAML,GAAG,GAAG,IAAI,CAACK,GAAG,CAAC,KAAK,CAAC;IAC3B,IAAMH,KAAK,GAAG,IAAI,CAACG,GAAG,CAAC,OAAO,CAAC;IAC/B,IAAMC,IAAI,GAAGhB,YAAY,CAAC;MAAES,KAAK;MAAEC,GAAG;IAAA,CAAE,CAAC;IACzC,IAAMC,GAAG,GAAG,IAAI,CAACI,GAAG,CAAC,KAAK,CAAC;IAC3B;MACEE,CAAC,EAAED,IAAI,CAACC,CAAC;MACTC,CAAC,EAAEF,IAAI,CAACE,CAAC;MACTC,GAAG,EAAER,GAAG;MACRS,KAAK,EAAEJ,IAAI,CAACI,KAAK;MACjBC,MAAM,EAAEL,IAAI,CAACK;IAAM,GAChBT,KAAK;EAEZ,CAAC;EAED;EACQV,qCAAW,GAAnB,UAAoBW,KAAa;IAC/B,IAAI,CAACS,QAAQ,CAACT,KAAK,EAAE;MACnBN,IAAI,EAAE,OAAO;MACbgB,EAAE,EAAE,IAAI,CAACC,YAAY,CAAC,OAAO,CAAC;MAC9BlB,IAAI,EAAE,kBAAkB;MACxBmB,KAAK,EAAE,IAAI,CAACC,aAAa;KAC1B,CAAC;EACJ,CAAC;EACH,sBAAC;AAAD,CAAC,CAjD6B3B,cAAc;AAmD5C,eAAeG,eAAe","names":["GroupComponent","regionToBBox","__extends","ImageAnnotation","cfg","_super","getDefaultCfg","name","type","locationType","start","end","src","style","group","renderImage","get","bbox","x","y","img","width","height","addShape","id","getElementId","attrs","getImageAttrs"],"sources":["/home/iam/Documents/network/node_modules/@antv/component/src/annotation/image.ts"],"sourcesContent":["import { IGroup } from '@antv/g-base';\nimport GroupComponent from '../abstract/group-component';\nimport { ILocation } from '../interfaces';\nimport { ImageAnnotationCfg, RegionLocationCfg } from '../types';\nimport { regionToBBox } from '../util/util';\n\nclass ImageAnnotation extends GroupComponent<ImageAnnotationCfg> implements ILocation<RegionLocationCfg> {\n  /**\n   * @protected\n   * 默认的配置项\n   * @returns {object} 默认的配置项\n   */\n  public getDefaultCfg() {\n    const cfg = super.getDefaultCfg();\n    return {\n      ...cfg,\n      name: 'annotation',\n      type: 'image',\n      locationType: 'region',\n      start: null,\n      end: null,\n      src: null,\n      style: {},\n    };\n  }\n\n  public renderInner(group: IGroup) {\n    this.renderImage(group);\n  }\n\n  private getImageAttrs() {\n    const start = this.get('start');\n    const end = this.get('end');\n    const style = this.get('style');\n    const bbox = regionToBBox({ start, end });\n    const src = this.get('src');\n    return {\n      x: bbox.x,\n      y: bbox.y,\n      img: src,\n      width: bbox.width,\n      height: bbox.height,\n      ...style,\n    };\n  }\n\n  // 绘制图片\n  private renderImage(group: IGroup) {\n    this.addShape(group, {\n      type: 'image',\n      id: this.getElementId('image'),\n      name: 'annotation-image',\n      attrs: this.getImageAttrs(),\n    });\n  }\n}\n\nexport default ImageAnnotation;\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}