{"ast":null,"code":"import _regeneratorRuntime from\"/home/iam/Documents/network/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/iam/Documents/network/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/iam/Documents/network/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Button,Card,Col,Modal,Typography,Space}from\"antd\";import{RouterEdit}from\"components/antd/internet/router/edit\";import{RouterTable,Router2Table}from\"components/antd/internet/router/table\";import React from\"react\";import ubusApi from\"service/api/ubus-api\";import{useTranslation}from\"react-i18next\";import\"../../../translations/i18n\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Title=Typography.Title,Paragraph=Typography.Paragraph,Text=Typography.Text,Link=Typography.Link;var Page=function Page(){var _useTranslation=useTranslation(),t=_useTranslation.t;var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),item=_React$useState2[0],setItem=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),showModal=_React$useState4[0],setShowModal=_React$useState4[1];var _React$useState5=React.useState(null),_React$useState6=_slicedToArray(_React$useState5,2),data=_React$useState6[0],setData=_React$useState6[1];//const [data1, setData1] = React.useState(null)\nvar _React$useState7=React.useState(null),_React$useState8=_slicedToArray(_React$useState7,2),data2=_React$useState8[0],setData2=_React$useState8[1];var _React$useState9=React.useState(null),_React$useState10=_slicedToArray(_React$useState9,2),data32=_React$useState10[0],setData32=_React$useState10[1];var _React$useState11=React.useState(null),_React$useState12=_slicedToArray(_React$useState11,2),route_wan=_React$useState12[0],setRoute_wan=_React$useState12[1];var _React$useState13=React.useState(null),_React$useState14=_slicedToArray(_React$useState13,2),route_lan=_React$useState14[0],setRoute_lan=_React$useState14[1];var refreshData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data,dataF1,dataF4,dataF3;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return ubusApi.show_network_routing(\"net\");case 2:data=_context.sent;_context.next=5;return ubusApi.show_network_routing(\"static\");case 5:dataF1=_context.sent;_context.next=8;return ubusApi.show_network_routing(\"default_route\");case 8:dataF4=_context.sent;_context.next=11;return ubusApi.show_web_data(\"32\");case 11:dataF3=_context.sent;setData(data.route_net);// setData1(dataF.route_net6)\nsetData2(dataF1.static_routing);setData32(dataF3.data);setRoute_wan(dataF4.default_route_wan[0]);setRoute_lan(dataF4.default_route_lan);case 17:case\"end\":return _context.stop();}}},_callee);}));return function refreshData(){return _ref.apply(this,arguments);};}();React.useEffect(function(){refreshData();},[]);var onEditItem=function onEditItem(group){setItem(Object.assign({},group));setShowModal(true);};var onCreateItem=function onCreateItem(group){setItem({});setShowModal(true);};var onModalCancel=function onModalCancel(){setShowModal(false);setItem(null);};var onModalOk=function onModalOk(){setShowModal(false);};var onDone=function onDone(){setShowModal(false);setItem(null);};var showModalContent=function showModalContent(){if(!showModal){return null;}return/*#__PURE__*/_jsx(Modal,{width:700,open:true,onCancel:onModalCancel,onOk:onModalOk,footer:null,children:/*#__PURE__*/_jsx(Col,{span:23,children:/*#__PURE__*/_jsx(Card,{title:t('route_configure'),type:\"inner\",headStyle:{background:\"linear-gradient(109.6deg, rgb(44, 83, 131), rgb(44, 83, 131) 18.9%, rgb(68, 124, 143), rgb(44, 83, 131) 91.1%, rgb(44, 83, 131))\",color:'white'},children:/*#__PURE__*/_jsx(RouterEdit,{item:item,route_wan:route_wan,route_lan:route_lan,data32:data32,onDone:onDone})})})});};return/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",size:\"middle\",style:{display:'flex'},children:[/*#__PURE__*/_jsxs(Card,{title:t('route_list'),headStyle:{background:\"linear-gradient(109.6deg, rgb(44, 83, 131), rgb(44, 83, 131) 18.9%, rgb(68, 124, 143), rgb(44, 83, 131) 91.1%, rgb(44, 83, 131))\",color:'white'},children:[/*#__PURE__*/_jsx(\"div\",{style:{overflowX:'auto'},children:/*#__PURE__*/_jsx(Router2Table,{haha:data2,onEditItem:onEditItem})}),showModalContent(),/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:onCreateItem,children:t('create')})]}),/*#__PURE__*/_jsxs(Card,{title:t('route_list_IPv4'),headStyle:{background:\"linear-gradient(109.6deg, rgb(44, 83, 131), rgb(44, 83, 131) 18.9%, rgb(68, 124, 143), rgb(44, 83, 131) 91.1%, rgb(44, 83, 131))\",color:'white'},children:[/*#__PURE__*/_jsx(\"div\",{style:{overflowX:'auto'},children:/*#__PURE__*/_jsx(RouterTable,{hihi:data,onEditItem:onEditItem})}),showModalContent()]})]});};export default Page;","map":{"version":3,"names":["Button","Card","Col","Modal","Typography","Space","RouterEdit","RouterTable","Router2Table","React","ubusApi","useTranslation","Title","Paragraph","Text","Link","Page","t","useState","item","setItem","showModal","setShowModal","data","setData","data2","setData2","data32","setData32","route_wan","setRoute_wan","route_lan","setRoute_lan","refreshData","show_network_routing","dataF1","dataF4","show_web_data","dataF3","route_net","static_routing","default_route_wan","default_route_lan","useEffect","onEditItem","group","Object","assign","onCreateItem","onModalCancel","onModalOk","onDone","showModalContent","background","color","display","overflowX"],"sources":["/home/iam/Documents/network/src/pages/internet/router/index.tsx"],"sourcesContent":["import { Button, Card, Col, Modal, Typography ,Space} from \"antd\"\nimport { RouterEdit } from \"components/antd/internet/router/edit\"\nimport { RouterTable , Router2Table } from \"components/antd/internet/router/table\"\nimport AntdLayout from \"components/antd/layout\"\nimport React from \"react\"\nimport ubusApi from \"service/api/ubus-api\"\nimport { useTranslation } from \"react-i18next\"\nimport \"../../../translations/i18n\"\n\nconst { Title, Paragraph, Text, Link } = Typography;\nconst Page = () => {\n    const { t } = useTranslation()\n    const [item, setItem] = React.useState(null)\n    const [showModal, setShowModal] = React.useState(false)\n    const [data, setData] = React.useState(null)\n    //const [data1, setData1] = React.useState(null)\n    const [data2, setData2] = React.useState(null)\n    const [data32, setData32] = React.useState(null);\n    const [route_wan, setRoute_wan] = React.useState(null)\n    const [route_lan, setRoute_lan] = React.useState(null)\n \n    const refreshData = async () => {\n        const data = await ubusApi.show_network_routing(\"net\")\n        //const dataF = await ubusApi.show_network_routing(\"net6\")\n        const dataF1 = await ubusApi.show_network_routing(\"static\")\n        const dataF4 = await ubusApi.show_network_routing(\"default_route\")\n        const dataF3 = await ubusApi.show_web_data(\"32\")\n        setData(data.route_net)\n        // setData1(dataF.route_net6)\n        setData2(dataF1.static_routing)\n        setData32(dataF3.data)\n        setRoute_wan(dataF4.default_route_wan[0])\n        setRoute_lan(dataF4.default_route_lan)\n\n    }\n    React.useEffect(() => {\n        refreshData()\n    }, [])\n\n    const onEditItem = (group: any) => {\n        setItem(Object.assign({}, group))\n        setShowModal(true)\n    }\n    const onCreateItem = (group: any) => {\n        setItem({} as any)\n        setShowModal(true)\n    }\n    const onModalCancel = () => {\n        setShowModal(false)\n        setItem(null)\n    }\n    const onModalOk = () => {\n        setShowModal(false)\n    }\n    const onDone = () => {\n        setShowModal(false)\n        setItem(null)\n    }\n\n    const showModalContent = () => {\n        if (!showModal) {\n            return null\n        }\n        return (\n            <Modal width={700} open={true} onCancel={onModalCancel} onOk={onModalOk} footer={null}>\n                <Col span={23}>\n                    <Card title={t('route_configure')} type=\"inner\" headStyle={{background:\"linear-gradient(109.6deg, rgb(44, 83, 131), rgb(44, 83, 131) 18.9%, rgb(68, 124, 143), rgb(44, 83, 131) 91.1%, rgb(44, 83, 131))\",color: 'white'}}>\n                        <RouterEdit item={item} route_wan ={route_wan} route_lan={route_lan}\n                            data32={data32} \n                        onDone={onDone} />\n                    </Card>\n                </Col>\n            </Modal>\n        )\n    }\n    return (\n        <Space\n                direction=\"vertical\"\n                size=\"middle\"\n                style={{\n                    display: 'flex',\n                }}\n            >\n            <Card title={t('route_list')} headStyle={{background:\"linear-gradient(109.6deg, rgb(44, 83, 131), rgb(44, 83, 131) 18.9%, rgb(68, 124, 143), rgb(44, 83, 131) 91.1%, rgb(44, 83, 131))\",color: 'white'}}>\n                <div style={{ overflowX: 'auto' }}>\n                    <Router2Table\n                        haha={data2}\n                        onEditItem={onEditItem}\n                    />\n                </div>\n            {showModalContent()}\n            <Button type=\"primary\" onClick={onCreateItem} >\n                {t('create')}\n            </Button>\n            </Card>\n            <Card title={t('route_list_IPv4')} headStyle={{background:\"linear-gradient(109.6deg, rgb(44, 83, 131), rgb(44, 83, 131) 18.9%, rgb(68, 124, 143), rgb(44, 83, 131) 91.1%, rgb(44, 83, 131))\",color: 'white'}}>\n                <div style={{ overflowX: 'auto' }}>\n                    <RouterTable\n                        hihi={data}\n                        onEditItem={onEditItem}\n                    />\n                </div>\n            {showModalContent()}\n            {/* <Button type=\"primary\" onClick={onCreateItem} >\n                {t('create')}\n            </Button> */}\n            </Card>\n        </Space>\n    )\n}\nexport default Page\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}