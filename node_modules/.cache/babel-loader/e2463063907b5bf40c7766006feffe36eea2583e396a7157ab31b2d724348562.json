{"ast":null,"code":"import { __assign, __rest } from \"tslib\";\nimport { registerNode, BaseGlobal as Global } from '@antv/g6-core';\nimport { mix } from '@antv/util';\n// 五角星shape\nregisterNode('star', {\n  // 自定义节点时的配置\n  options: {\n    size: 60,\n    style: {\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize,\n        fontFamily: Global.windowFontFamily\n      }\n    },\n    // 节点上左右上下四个方向上的链接circle配置\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle的大小\n      size: Global.defaultNode.linkPoints.size,\n      lineWidth: Global.defaultNode.linkPoints.lineWidth,\n      fill: Global.defaultNode.linkPoints.fill,\n      stroke: Global.defaultNode.linkPoints.stroke\n    },\n    // 节点中icon配置\n    icon: {\n      // 是否显示icon，值为 false 则不渲染icon\n      show: false,\n      // icon的地址，字符串类型\n      img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',\n      width: 20,\n      height: 20\n    },\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'star',\n  // 文本位置\n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var _a = (this.mergeStyle || this.getOptions(cfg)).icon,\n      icon = _a === void 0 ? {} : _a;\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('path', {\n      attrs: style,\n      className: \"\".concat(this.type, \"-keyShape\"),\n      name: \"\".concat(this.type, \"-keyShape\"),\n      draggable: true\n    });\n    group['shapeMap'][\"\".concat(this.type, \"-keyShape\")] = keyShape;\n    var w = icon.width,\n      h = icon.height,\n      show = icon.show,\n      text = icon.text;\n    if (show) {\n      if (text) {\n        group['shapeMap'][\"\".concat(this.type, \"-icon\")] = group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      } else {\n        group['shapeMap'][\"\".concat(this.type, \"-icon\")] = group.addShape('image', {\n          attrs: __assign({\n            x: -w / 2,\n            y: -h / 2\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      }\n    }\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n  /**\n   * 绘制节点上的LinkPoints\n   * @param {Object} cfg data数据配置项\n   * @param {Group} group Group实例\n   */\n  drawLinkPoints: function drawLinkPoints(cfg, group) {\n    var _a = (this.mergeStyle || this.getOptions(cfg)).linkPoints,\n      linkPoints = _a === void 0 ? {} : _a;\n    var top = linkPoints.top,\n      left = linkPoints.left,\n      right = linkPoints.right,\n      leftBottom = linkPoints.leftBottom,\n      rightBottom = linkPoints.rightBottom,\n      markSize = linkPoints.size,\n      markR = linkPoints.r,\n      markStyle = __rest(linkPoints, [\"top\", \"left\", \"right\", \"leftBottom\", \"rightBottom\", \"size\", \"r\"]);\n    var size = this.getSize(cfg);\n    var outerR = size[0];\n    if (right) {\n      // right circle\n      // up down left right 四个方向的坐标均不相同\n      var x1 = Math.cos((18 + 72 * 0) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 0) / 180 * Math.PI) * outerR;\n      group['shapeMap']['link-point-right'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right'\n      });\n    }\n    if (top) {\n      // up down left right 四个方向的坐标均不相同\n      var x1 = Math.cos((18 + 72 * 1) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 1) / 180 * Math.PI) * outerR;\n      // top circle\n      group['shapeMap']['link-point-top'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top'\n      });\n    }\n    if (left) {\n      // up down left right 四个方向的坐标均不相同\n      var x1 = Math.cos((18 + 72 * 2) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 2) / 180 * Math.PI) * outerR;\n      // left circle\n      group['shapeMap']['link-point-left'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left'\n      });\n    }\n    if (leftBottom) {\n      // up down left right 四个方向的坐标均不相同\n      var x1 = Math.cos((18 + 72 * 3) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 3) / 180 * Math.PI) * outerR;\n      // left bottom circle\n      group['shapeMap']['link-point-bottom'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left-bottom',\n        name: 'link-point-left-bottom'\n      });\n    }\n    if (rightBottom) {\n      // up down left right 四个方向的坐标均不相同\n      var x1 = Math.cos((18 + 72 * 4) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 4) / 180 * Math.PI) * outerR;\n      // left bottom circle\n      group['shapeMap']['link-point-right-bottom'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right-bottom',\n        name: 'link-point-right-bottom'\n      });\n    }\n  },\n  getPath: function getPath(cfg) {\n    var size = this.getSize(cfg);\n    var outerR = size[0];\n    var defaultInnerR = outerR * 3 / 8;\n    var innerR = cfg.innerR || defaultInnerR;\n    var path = [];\n    for (var i = 0; i < 5; i++) {\n      var x1 = Math.cos((18 + 72 * i) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * i) / 180 * Math.PI) * outerR;\n      var x2 = Math.cos((54 + 72 * i) / 180 * Math.PI) * innerR;\n      var y2 = Math.sin((54 + 72 * i) / 180 * Math.PI) * innerR;\n      if (i === 0) {\n        path.push(['M', x1, -y1]);\n      } else {\n        path.push(['L', x1, -y1]);\n      }\n      path.push(['L', x2, -y2]);\n    }\n    path.push(['Z']);\n    return path;\n  },\n  /**\n   * 获取节点的样式，供基于该节点自定义时使用\n   * @param {Object} cfg 节点数据模型\n   * @return {Object} 节点的样式\n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = (this.mergeStyle || this.getOptions(cfg)).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    };\n    // 如果设置了color，则覆盖原来默认的 stroke 属性。但 cfg 中但 stroke 属性优先级更高\n    var style = mix({}, defaultStyle, strokeStyle);\n    var path = this.getPath(cfg);\n    var styles = __assign({\n      path: path\n    }, style);\n    return styles;\n  },\n  update: function update(cfg, item, updateType) {\n    var group = item.getContainer();\n    // 这里不传 cfg 参数是因为 cfg.style 需要最后覆盖样式\n    var defaultStyle = this.getOptions({}).style;\n    var path = this.getPath(cfg);\n    // 下面这些属性需要覆盖默认样式与目前样式，但若在 cfg 中有指定则应该被 cfg 的相应配置覆盖。\n    var strokeStyle = {\n      stroke: cfg.color,\n      path: path\n    };\n    // 与 getShapeStyle 不同在于，update 时需要获取到当前的 style 进行融合。即新传入的配置项中没有涉及的属性，保留当前的配置。\n    var keyShape = item.get('keyShape');\n    var style = mix({}, defaultStyle, keyShape.attr(), strokeStyle);\n    style = mix(style, cfg.style);\n    this.updateShape(cfg, item, style, true, updateType);\n    this.updateLinkPoints(cfg, group);\n  },\n  /**\n   * 更新linkPoints\n   * @param {Object} cfg 节点数据配置项\n   * @param {Group} group Item所在的group\n   */\n  updateLinkPoints: function updateLinkPoints(cfg, group) {\n    var defaultLinkPoints = this.getOptions({}).linkPoints;\n    var markLeft = group['shapeMap']['link-point-left'] || group.find(function (element) {\n      return element.get('className') === 'link-point-left';\n    });\n    var markRight = group['shapeMap']['link-point-right'] || group.find(function (element) {\n      return element.get('className') === 'link-point-right';\n    });\n    var markTop = group['shapeMap']['link-point-top'] || group.find(function (element) {\n      return element.get('className') === 'link-point-top';\n    });\n    var markLeftBottom = group['shapeMap']['link-point-left-bottom'] || group.find(function (element) {\n      return element.get('className') === 'link-point-left-bottom';\n    });\n    var markRightBottom = group['shapeMap']['link-point-left-bottom'] || group.find(function (element) {\n      return element.get('className') === 'link-point-right-bottom';\n    });\n    var currentLinkPoints = defaultLinkPoints;\n    var existLinkPoint = markLeft || markRight || markTop || markLeftBottom || markRightBottom;\n    if (existLinkPoint) {\n      currentLinkPoints = existLinkPoint.attr();\n    }\n    var linkPoints = mix({}, currentLinkPoints, cfg.linkPoints);\n    var markFill = linkPoints.fill,\n      markStroke = linkPoints.stroke,\n      borderWidth = linkPoints.lineWidth;\n    var markSize = linkPoints.size / 2;\n    if (!markSize) markSize = linkPoints.r;\n    var _a = cfg.linkPoints ? cfg.linkPoints : {\n        left: undefined,\n        right: undefined,\n        top: undefined,\n        leftBottom: undefined,\n        rightBottom: undefined\n      },\n      left = _a.left,\n      right = _a.right,\n      top = _a.top,\n      leftBottom = _a.leftBottom,\n      rightBottom = _a.rightBottom;\n    var size = this.getSize(cfg);\n    var outerR = size[0];\n    var styles = {\n      r: markSize,\n      fill: markFill,\n      stroke: markStroke,\n      lineWidth: borderWidth\n    };\n    var x = Math.cos((18 + 72 * 0) / 180 * Math.PI) * outerR;\n    var y = Math.sin((18 + 72 * 0) / 180 * Math.PI) * outerR;\n    if (markRight) {\n      if (!right && right !== undefined) {\n        markRight.remove();\n        delete group['shapeMap']['link-point-right'];\n      } else {\n        markRight.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (right) {\n      group['shapeMap']['link-point-right'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right',\n        isAnchorPoint: true\n      });\n    }\n    x = Math.cos((18 + 72 * 1) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 1) / 180 * Math.PI) * outerR;\n    if (markTop) {\n      if (!top && top !== undefined) {\n        markTop.remove();\n        delete group['shapeMap']['link-point-top'];\n      } else {\n        markTop.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (top) {\n      group['shapeMap']['link-point-top'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top',\n        isAnchorPoint: true\n      });\n    }\n    x = Math.cos((18 + 72 * 2) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 2) / 180 * Math.PI) * outerR;\n    if (markLeft) {\n      if (!left && left !== undefined) {\n        markLeft.remove();\n        delete group['shapeMap']['link-point-left'];\n      } else {\n        markLeft.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (left) {\n      group['shapeMap']['link-point-left'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left',\n        isAnchorPoint: true\n      });\n    }\n    x = Math.cos((18 + 72 * 3) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 3) / 180 * Math.PI) * outerR;\n    if (markLeftBottom) {\n      if (!leftBottom && leftBottom !== undefined) {\n        markLeftBottom.remove();\n        delete group['shapeMap']['link-point-left-bottom'];\n      } else {\n        markLeftBottom.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (leftBottom) {\n      group['shapeMap']['link-point-left-bottom'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-left-bottom',\n        name: 'link-point-left-bottom',\n        isAnchorPoint: true\n      });\n    }\n    x = Math.cos((18 + 72 * 4) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 4) / 180 * Math.PI) * outerR;\n    if (markRightBottom) {\n      if (!rightBottom && rightBottom !== undefined) {\n        markRightBottom.remove();\n        delete group['shapeMap']['link-point-right-bottom'];\n      } else {\n        markRightBottom.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (rightBottom) {\n      group['shapeMap']['link-point-right-bottom'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-right-bottom',\n        name: 'link-point-right-bottom',\n        isAnchorPoint: true\n      });\n    }\n  }\n}, 'single-node');","map":{"version":3,"names":["__assign","__rest","registerNode","BaseGlobal","Global","mix","options","size","style","stroke","defaultNode","fill","lineWidth","labelCfg","nodeLabel","fontSize","fontFamily","windowFontFamily","linkPoints","top","right","bottom","left","icon","show","img","width","height","stateStyles","nodeStateStyles","shapeType","labelPosition","drawShape","cfg","group","_a","mergeStyle","getOptions","getShapeStyle","keyShape","addShape","attrs","className","concat","type","name","draggable","w","h","text","x","y","textBaseline","textAlign","drawLinkPoints","leftBottom","rightBottom","markSize","markR","r","markStyle","getSize","outerR","x1","Math","cos","PI","y1","sin","getPath","defaultInnerR","innerR","path","i","x2","y2","push","defaultStyle","strokeStyle","color","styles","update","item","updateType","getContainer","get","attr","updateShape","updateLinkPoints","defaultLinkPoints","markLeft","find","element","markRight","markTop","markLeftBottom","markRightBottom","currentLinkPoints","existLinkPoint","markFill","markStroke","borderWidth","undefined","remove","isAnchorPoint"],"sources":["/home/iam/Documents/network/node_modules/@antv/g6-element/es/nodes/star.js"],"sourcesContent":["import { __assign, __rest } from \"tslib\";\nimport { registerNode, BaseGlobal as Global } from '@antv/g6-core';\nimport { mix } from '@antv/util';\n// 五角星shape\nregisterNode('star', {\n  // 自定义节点时的配置\n  options: {\n    size: 60,\n    style: {\n      stroke: Global.defaultNode.style.stroke,\n      fill: Global.defaultNode.style.fill,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    labelCfg: {\n      style: {\n        fill: Global.nodeLabel.style.fill,\n        fontSize: Global.nodeLabel.style.fontSize,\n        fontFamily: Global.windowFontFamily\n      }\n    },\n    // 节点上左右上下四个方向上的链接circle配置\n    linkPoints: {\n      top: false,\n      right: false,\n      bottom: false,\n      left: false,\n      // circle的大小\n      size: Global.defaultNode.linkPoints.size,\n      lineWidth: Global.defaultNode.linkPoints.lineWidth,\n      fill: Global.defaultNode.linkPoints.fill,\n      stroke: Global.defaultNode.linkPoints.stroke\n    },\n    // 节点中icon配置\n    icon: {\n      // 是否显示icon，值为 false 则不渲染icon\n      show: false,\n      // icon的地址，字符串类型\n      img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',\n      width: 20,\n      height: 20\n    },\n    stateStyles: __assign({}, Global.nodeStateStyles)\n  },\n  shapeType: 'star',\n  // 文本位置\n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var _a = (this.mergeStyle || this.getOptions(cfg)).icon,\n      icon = _a === void 0 ? {} : _a;\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('path', {\n      attrs: style,\n      className: \"\".concat(this.type, \"-keyShape\"),\n      name: \"\".concat(this.type, \"-keyShape\"),\n      draggable: true\n    });\n    group['shapeMap'][\"\".concat(this.type, \"-keyShape\")] = keyShape;\n    var w = icon.width,\n      h = icon.height,\n      show = icon.show,\n      text = icon.text;\n    if (show) {\n      if (text) {\n        group['shapeMap'][\"\".concat(this.type, \"-icon\")] = group.addShape('text', {\n          attrs: __assign({\n            x: 0,\n            y: 0,\n            fontSize: 12,\n            fill: '#000',\n            stroke: '#000',\n            textBaseline: 'middle',\n            textAlign: 'center'\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      } else {\n        group['shapeMap'][\"\".concat(this.type, \"-icon\")] = group.addShape('image', {\n          attrs: __assign({\n            x: -w / 2,\n            y: -h / 2\n          }, icon),\n          className: \"\".concat(this.type, \"-icon\"),\n          name: \"\".concat(this.type, \"-icon\"),\n          draggable: true\n        });\n      }\n    }\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n  /**\n   * 绘制节点上的LinkPoints\n   * @param {Object} cfg data数据配置项\n   * @param {Group} group Group实例\n   */\n  drawLinkPoints: function drawLinkPoints(cfg, group) {\n    var _a = (this.mergeStyle || this.getOptions(cfg)).linkPoints,\n      linkPoints = _a === void 0 ? {} : _a;\n    var top = linkPoints.top,\n      left = linkPoints.left,\n      right = linkPoints.right,\n      leftBottom = linkPoints.leftBottom,\n      rightBottom = linkPoints.rightBottom,\n      markSize = linkPoints.size,\n      markR = linkPoints.r,\n      markStyle = __rest(linkPoints, [\"top\", \"left\", \"right\", \"leftBottom\", \"rightBottom\", \"size\", \"r\"]);\n    var size = this.getSize(cfg);\n    var outerR = size[0];\n    if (right) {\n      // right circle\n      // up down left right 四个方向的坐标均不相同\n      var x1 = Math.cos((18 + 72 * 0) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 0) / 180 * Math.PI) * outerR;\n      group['shapeMap']['link-point-right'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right'\n      });\n    }\n    if (top) {\n      // up down left right 四个方向的坐标均不相同\n      var x1 = Math.cos((18 + 72 * 1) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 1) / 180 * Math.PI) * outerR;\n      // top circle\n      group['shapeMap']['link-point-top'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top'\n      });\n    }\n    if (left) {\n      // up down left right 四个方向的坐标均不相同\n      var x1 = Math.cos((18 + 72 * 2) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 2) / 180 * Math.PI) * outerR;\n      // left circle\n      group['shapeMap']['link-point-left'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left'\n      });\n    }\n    if (leftBottom) {\n      // up down left right 四个方向的坐标均不相同\n      var x1 = Math.cos((18 + 72 * 3) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 3) / 180 * Math.PI) * outerR;\n      // left bottom circle\n      group['shapeMap']['link-point-bottom'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left-bottom',\n        name: 'link-point-left-bottom'\n      });\n    }\n    if (rightBottom) {\n      // up down left right 四个方向的坐标均不相同\n      var x1 = Math.cos((18 + 72 * 4) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 4) / 180 * Math.PI) * outerR;\n      // left bottom circle\n      group['shapeMap']['link-point-right-bottom'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right-bottom',\n        name: 'link-point-right-bottom'\n      });\n    }\n  },\n  getPath: function getPath(cfg) {\n    var size = this.getSize(cfg);\n    var outerR = size[0];\n    var defaultInnerR = outerR * 3 / 8;\n    var innerR = cfg.innerR || defaultInnerR;\n    var path = [];\n    for (var i = 0; i < 5; i++) {\n      var x1 = Math.cos((18 + 72 * i) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * i) / 180 * Math.PI) * outerR;\n      var x2 = Math.cos((54 + 72 * i) / 180 * Math.PI) * innerR;\n      var y2 = Math.sin((54 + 72 * i) / 180 * Math.PI) * innerR;\n      if (i === 0) {\n        path.push(['M', x1, -y1]);\n      } else {\n        path.push(['L', x1, -y1]);\n      }\n      path.push(['L', x2, -y2]);\n    }\n    path.push(['Z']);\n    return path;\n  },\n  /**\n   * 获取节点的样式，供基于该节点自定义时使用\n   * @param {Object} cfg 节点数据模型\n   * @return {Object} 节点的样式\n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = (this.mergeStyle || this.getOptions(cfg)).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    };\n    // 如果设置了color，则覆盖原来默认的 stroke 属性。但 cfg 中但 stroke 属性优先级更高\n    var style = mix({}, defaultStyle, strokeStyle);\n    var path = this.getPath(cfg);\n    var styles = __assign({\n      path: path\n    }, style);\n    return styles;\n  },\n  update: function update(cfg, item, updateType) {\n    var group = item.getContainer();\n    // 这里不传 cfg 参数是因为 cfg.style 需要最后覆盖样式\n    var defaultStyle = this.getOptions({}).style;\n    var path = this.getPath(cfg);\n    // 下面这些属性需要覆盖默认样式与目前样式，但若在 cfg 中有指定则应该被 cfg 的相应配置覆盖。\n    var strokeStyle = {\n      stroke: cfg.color,\n      path: path\n    };\n    // 与 getShapeStyle 不同在于，update 时需要获取到当前的 style 进行融合。即新传入的配置项中没有涉及的属性，保留当前的配置。\n    var keyShape = item.get('keyShape');\n    var style = mix({}, defaultStyle, keyShape.attr(), strokeStyle);\n    style = mix(style, cfg.style);\n    this.updateShape(cfg, item, style, true, updateType);\n    this.updateLinkPoints(cfg, group);\n  },\n  /**\n   * 更新linkPoints\n   * @param {Object} cfg 节点数据配置项\n   * @param {Group} group Item所在的group\n   */\n  updateLinkPoints: function updateLinkPoints(cfg, group) {\n    var defaultLinkPoints = this.getOptions({}).linkPoints;\n    var markLeft = group['shapeMap']['link-point-left'] || group.find(function (element) {\n      return element.get('className') === 'link-point-left';\n    });\n    var markRight = group['shapeMap']['link-point-right'] || group.find(function (element) {\n      return element.get('className') === 'link-point-right';\n    });\n    var markTop = group['shapeMap']['link-point-top'] || group.find(function (element) {\n      return element.get('className') === 'link-point-top';\n    });\n    var markLeftBottom = group['shapeMap']['link-point-left-bottom'] || group.find(function (element) {\n      return element.get('className') === 'link-point-left-bottom';\n    });\n    var markRightBottom = group['shapeMap']['link-point-left-bottom'] || group.find(function (element) {\n      return element.get('className') === 'link-point-right-bottom';\n    });\n    var currentLinkPoints = defaultLinkPoints;\n    var existLinkPoint = markLeft || markRight || markTop || markLeftBottom || markRightBottom;\n    if (existLinkPoint) {\n      currentLinkPoints = existLinkPoint.attr();\n    }\n    var linkPoints = mix({}, currentLinkPoints, cfg.linkPoints);\n    var markFill = linkPoints.fill,\n      markStroke = linkPoints.stroke,\n      borderWidth = linkPoints.lineWidth;\n    var markSize = linkPoints.size / 2;\n    if (!markSize) markSize = linkPoints.r;\n    var _a = cfg.linkPoints ? cfg.linkPoints : {\n        left: undefined,\n        right: undefined,\n        top: undefined,\n        leftBottom: undefined,\n        rightBottom: undefined\n      },\n      left = _a.left,\n      right = _a.right,\n      top = _a.top,\n      leftBottom = _a.leftBottom,\n      rightBottom = _a.rightBottom;\n    var size = this.getSize(cfg);\n    var outerR = size[0];\n    var styles = {\n      r: markSize,\n      fill: markFill,\n      stroke: markStroke,\n      lineWidth: borderWidth\n    };\n    var x = Math.cos((18 + 72 * 0) / 180 * Math.PI) * outerR;\n    var y = Math.sin((18 + 72 * 0) / 180 * Math.PI) * outerR;\n    if (markRight) {\n      if (!right && right !== undefined) {\n        markRight.remove();\n        delete group['shapeMap']['link-point-right'];\n      } else {\n        markRight.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (right) {\n      group['shapeMap']['link-point-right'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right',\n        isAnchorPoint: true\n      });\n    }\n    x = Math.cos((18 + 72 * 1) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 1) / 180 * Math.PI) * outerR;\n    if (markTop) {\n      if (!top && top !== undefined) {\n        markTop.remove();\n        delete group['shapeMap']['link-point-top'];\n      } else {\n        markTop.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (top) {\n      group['shapeMap']['link-point-top'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top',\n        isAnchorPoint: true\n      });\n    }\n    x = Math.cos((18 + 72 * 2) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 2) / 180 * Math.PI) * outerR;\n    if (markLeft) {\n      if (!left && left !== undefined) {\n        markLeft.remove();\n        delete group['shapeMap']['link-point-left'];\n      } else {\n        markLeft.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (left) {\n      group['shapeMap']['link-point-left'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left',\n        isAnchorPoint: true\n      });\n    }\n    x = Math.cos((18 + 72 * 3) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 3) / 180 * Math.PI) * outerR;\n    if (markLeftBottom) {\n      if (!leftBottom && leftBottom !== undefined) {\n        markLeftBottom.remove();\n        delete group['shapeMap']['link-point-left-bottom'];\n      } else {\n        markLeftBottom.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (leftBottom) {\n      group['shapeMap']['link-point-left-bottom'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-left-bottom',\n        name: 'link-point-left-bottom',\n        isAnchorPoint: true\n      });\n    }\n    x = Math.cos((18 + 72 * 4) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 4) / 180 * Math.PI) * outerR;\n    if (markRightBottom) {\n      if (!rightBottom && rightBottom !== undefined) {\n        markRightBottom.remove();\n        delete group['shapeMap']['link-point-right-bottom'];\n      } else {\n        markRightBottom.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (rightBottom) {\n      group['shapeMap']['link-point-right-bottom'] = group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-right-bottom',\n        name: 'link-point-right-bottom',\n        isAnchorPoint: true\n      });\n    }\n  }\n}, 'single-node');"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}