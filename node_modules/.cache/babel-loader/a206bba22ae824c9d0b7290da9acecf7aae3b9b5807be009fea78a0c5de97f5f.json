{"ast":null,"code":"import { __values } from \"tslib\";\nimport { groupToMap } from '@antv/util';\n/** @ignore */\nexport function group(data, fields, appendConditions) {\n  var e_1, _a;\n  if (appendConditions === void 0) {\n    appendConditions = {};\n  }\n  if (!fields) {\n    return [data];\n  }\n  var groups = groupToMap(data, fields);\n  var array = [];\n  if (fields.length === 1 && appendConditions[fields[0]]) {\n    var values = appendConditions[fields[0]];\n    try {\n      for (var values_1 = __values(values), values_1_1 = values_1.next(); !values_1_1.done; values_1_1 = values_1.next()) {\n        var value = values_1_1.value;\n        var arr = groups[\"_\".concat(value)];\n        if (arr) {\n          // 可能存在用户设置 values ，但是数据中没有对应的字段，则这时候 arr 就为 null\n          array.push(arr);\n        }\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (values_1_1 && !values_1_1.done && (_a = values_1.return)) _a.call(values_1);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n  } else {\n    for (var k in groups) {\n      if (groups.hasOwnProperty(k)) {\n        var eachGroup = groups[k];\n        array.push(eachGroup);\n      }\n    }\n  }\n  return array;\n}","map":{"version":3,"mappings":";AAAA,SAASA,UAAU,QAAQ,YAAY;AAGvC;AACA,OAAM,SAAUC,KAAK,CAACC,IAAU,EAAEC,MAAgB,EAAEC,gBAA4C;;EAA5C;IAAAA,qBAA4C;EAAA;EAC9F,IAAI,CAACD,MAAM,EAAE;IACX,OAAO,CAACD,IAAI,CAAC;;EAEf,IAAMG,MAAM,GAAGL,UAAU,CAACE,IAAI,EAAEC,MAAM,CAAC;EACvC,IAAMG,KAAK,GAAG,EAAE;EAChB,IAAIH,MAAM,CAACI,MAAM,KAAK,CAAC,IAAIH,gBAAgB,CAACD,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE;IACtD,IAAMK,MAAM,GAAGJ,gBAAgB,CAACD,MAAM,CAAC,CAAC,CAAC,CAAC;;MAC1C,KAAoB,8BAAM,iFAAE;QAAvB,IAAMM,KAAK;QACd,IAAMC,GAAG,GAAGL,MAAM,CAAC,WAAII,KAAK,CAAE,CAAC;QAC/B,IAAIC,GAAG,EAAE;UACP;UACAJ,KAAK,CAACK,IAAI,CAACD,GAAG,CAAC;;;;;;;;;;;;;;GAGpB,MAAM;IACL,KAAK,IAAME,CAAC,IAAIP,MAAM,EAAE;MACtB,IAAIA,MAAM,CAACQ,cAAc,CAACD,CAAC,CAAC,EAAE;QAC5B,IAAME,SAAS,GAAGT,MAAM,CAACO,CAAC,CAAC;QAC3BN,KAAK,CAACK,IAAI,CAACG,SAAS,CAAC;;;;EAK3B,OAAOR,KAAK;AACd","names":["groupToMap","group","data","fields","appendConditions","groups","array","length","values","value","arr","push","k","hasOwnProperty","eachGroup"],"sources":["/home/iam/Documents/network/node_modules/@antv/g2/src/geometry/util/group-data.ts"],"sourcesContent":["import { groupToMap } from '@antv/util';\nimport { Data } from '../../interface';\n\n/** @ignore */\nexport function group(data: Data, fields: string[], appendConditions: Record<string, any[]> = {}) {\n  if (!fields) {\n    return [data];\n  }\n  const groups = groupToMap(data, fields);\n  const array = [];\n  if (fields.length === 1 && appendConditions[fields[0]]) {\n    const values = appendConditions[fields[0]];\n    for (const value of values) {\n      const arr = groups[`_${value}`];\n      if (arr) {\n        // 可能存在用户设置 values ，但是数据中没有对应的字段，则这时候 arr 就为 null\n        array.push(arr);\n      }\n    }\n  } else {\n    for (const k in groups) {\n      if (groups.hasOwnProperty(k)) {\n        const eachGroup = groups[k];\n        array.push(eachGroup);\n      }\n    }\n  }\n\n  return array;\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}