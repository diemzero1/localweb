{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport G6 from '@antv/g6';\nimport { deepClone, Log } from '../../utils';\nimport { defaultMinimapCfg } from './constants';\nexport var getGraphSize = function (width, height, container) {\n  var CANVAS_WIDTH;\n  var CANVAS_HEIGHT;\n  if (container && container.current) {\n    CANVAS_WIDTH = container.current.offsetWidth;\n    CANVAS_HEIGHT = container.current.offsetHeight || 500;\n  }\n  if (!width && !CANVAS_WIDTH || !height && !CANVAS_HEIGHT) {\n    Log.warn('请为 Graph 指定 width 与 height！否则将使用默认值 500 * 500');\n    return [500, 500];\n  }\n  return [width || CANVAS_WIDTH || 500, height || CANVAS_HEIGHT || 500];\n};\n// 展开&折叠事件\nexport var bindDefaultEvents = function (graph, collapseExpand) {\n  if (collapseExpand) {\n    var onClick_1 = function (e) {\n      var item = e.item;\n      if (e.target.get('name') === 'collapse-icon') {\n        graph.updateItem(item, {\n          collapsed: !item.getModel().collapsed\n        });\n        graph.layout();\n      }\n    };\n    graph.on('node:click', function (e) {\n      onClick_1(e);\n    });\n    graph.on('node:touchstart', function (e) {\n      onClick_1(e);\n    });\n  }\n};\n// 默认箭头样式\nexport var getDefaultEdgeArrowCfg = function (d, arrowType, fill) {\n  if (d === void 0) {\n    d = 0;\n  }\n  if (arrowType === void 0) {\n    arrowType = 'vee';\n  }\n  if (fill === void 0) {\n    fill = '#ccc';\n  }\n  return {\n    endArrow: {\n      path: G6.Arrow[arrowType](10, 10, d),\n      fill: fill,\n      d: d\n    }\n  };\n};\n// 统一处理 text&style\nexport var getContentAndStyle = function (cfg) {\n  if (typeof cfg === 'string' || typeof cfg === 'number') {\n    return {\n      text: cfg\n    };\n  }\n  var content = cfg.content,\n    style = cfg.style;\n  return {\n    text: content,\n    style: style\n  };\n};\n// 统一处理 config，支持回调\nexport var getConfig = function (source, item, cfg) {\n  if (typeof source === 'function') {\n    return source(item, cfg);\n  }\n  return source || {};\n};\nvar uuid = function () {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0;\n    var v = c == 'x' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n};\n// 同一页面存在多 graph 时需要指定 graphId\nexport var getGraphId = function (graph) {\n  if (graph.current) {\n    return graph.current;\n  }\n  graph.current = \"IndentedTreeGraph-\".concat(uuid());\n  return graph.current;\n};\nexport var renderGraph = function (graph, data) {\n  var originData = deepClone(data);\n  graph.data(originData);\n  graph.render();\n};\nexport var processMinimap = function (cfg, graph) {\n  if (cfg === void 0) {\n    cfg = {};\n  }\n  if (!graph || graph.destroyed) return;\n  if (cfg.show) {\n    var curMminimapCfg = Object.assign(defaultMinimapCfg, cfg);\n    var minimap = new G6.Minimap(__assign({}, curMminimapCfg));\n    graph.addPlugin(minimap);\n    // return minimap;\n  }\n\n  return null;\n};\n/**\n * min ma\n */\nexport var getMarkerPosition = function (direction, size) {\n  if (direction === void 0) {\n    direction = 'right';\n  }\n  var width = size[0],\n    height = size[1];\n  var x = 0;\n  var y = 0;\n  switch (direction) {\n    case 'top':\n      x = width / 2;\n      y = 0;\n      break;\n    case 'right':\n      x = width;\n      y = height / 2;\n      break;\n    case 'bottom':\n      x = width / 2;\n      y = height;\n      break;\n    case 'left':\n      x = 0;\n      y = height / 2;\n      break;\n  }\n  return {\n    x: x,\n    y: y\n  };\n};\n/**\n * 设置 props 默认值\n * props 会在对应图表和 hooks 里面使用，不想加个很长的赋值表达式。\n * layout 使用 merge\n */\nexport var useProps = function (props, defaultProps) {\n  return __assign(__assign(__assign({}, defaultProps), props), {\n    layout: __assign(__assign({}, defaultProps === null || defaultProps === void 0 ? void 0 : defaultProps.layout), props === null || props === void 0 ? void 0 : props.layout)\n  });\n};","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","G6","deepClone","Log","defaultMinimapCfg","getGraphSize","width","height","container","CANVAS_WIDTH","CANVAS_HEIGHT","current","offsetWidth","offsetHeight","warn","bindDefaultEvents","graph","collapseExpand","onClick_1","e","item","target","get","updateItem","collapsed","getModel","layout","on","getDefaultEdgeArrowCfg","d","arrowType","fill","endArrow","path","Arrow","getContentAndStyle","cfg","text","content","style","getConfig","source","uuid","replace","c","r","Math","random","v","toString","getGraphId","concat","renderGraph","data","originData","render","processMinimap","destroyed","show","curMminimapCfg","minimap","Minimap","addPlugin","getMarkerPosition","direction","size","x","y","useProps","props","defaultProps"],"sources":["/home/iam/Documents/LocalWeb-master/node_modules/@ant-design/graphs/es/obsolescent/graphs/utils.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport G6 from '@antv/g6';\nimport { deepClone, Log } from '../../utils';\nimport { defaultMinimapCfg } from './constants';\nexport var getGraphSize = function (width, height, container) {\n    var CANVAS_WIDTH;\n    var CANVAS_HEIGHT;\n    if (container && container.current) {\n        CANVAS_WIDTH = container.current.offsetWidth;\n        CANVAS_HEIGHT = container.current.offsetHeight || 500;\n    }\n    if ((!width && !CANVAS_WIDTH) || (!height && !CANVAS_HEIGHT)) {\n        Log.warn('请为 Graph 指定 width 与 height！否则将使用默认值 500 * 500');\n        return [500, 500];\n    }\n    return [width || CANVAS_WIDTH || 500, height || CANVAS_HEIGHT || 500];\n};\n// 展开&折叠事件\nexport var bindDefaultEvents = function (graph, collapseExpand) {\n    if (collapseExpand) {\n        var onClick_1 = function (e) {\n            var item = e.item;\n            if (e.target.get('name') === 'collapse-icon') {\n                graph.updateItem(item, {\n                    collapsed: !item.getModel().collapsed,\n                });\n                graph.layout();\n            }\n        };\n        graph.on('node:click', function (e) {\n            onClick_1(e);\n        });\n        graph.on('node:touchstart', function (e) {\n            onClick_1(e);\n        });\n    }\n};\n// 默认箭头样式\nexport var getDefaultEdgeArrowCfg = function (d, arrowType, fill) {\n    if (d === void 0) { d = 0; }\n    if (arrowType === void 0) { arrowType = 'vee'; }\n    if (fill === void 0) { fill = '#ccc'; }\n    return {\n        endArrow: {\n            path: G6.Arrow[arrowType](10, 10, d),\n            fill: fill,\n            d: d,\n        },\n    };\n};\n// 统一处理 text&style\nexport var getContentAndStyle = function (cfg) {\n    if (typeof cfg === 'string' || typeof cfg === 'number') {\n        return {\n            text: cfg,\n        };\n    }\n    var content = cfg.content, style = cfg.style;\n    return {\n        text: content,\n        style: style,\n    };\n};\n// 统一处理 config，支持回调\nexport var getConfig = function (source, item, cfg) {\n    if (typeof source === 'function') {\n        return source(item, cfg);\n    }\n    return source || {};\n};\nvar uuid = function () {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        var r = (Math.random() * 16) | 0;\n        var v = c == 'x' ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n};\n// 同一页面存在多 graph 时需要指定 graphId\nexport var getGraphId = function (graph) {\n    if (graph.current) {\n        return graph.current;\n    }\n    graph.current = \"IndentedTreeGraph-\".concat(uuid());\n    return graph.current;\n};\nexport var renderGraph = function (graph, data) {\n    var originData = deepClone(data);\n    graph.data(originData);\n    graph.render();\n};\nexport var processMinimap = function (cfg, graph) {\n    if (cfg === void 0) { cfg = {}; }\n    if (!graph || graph.destroyed)\n        return;\n    if (cfg.show) {\n        var curMminimapCfg = Object.assign(defaultMinimapCfg, cfg);\n        var minimap = new G6.Minimap(__assign({}, curMminimapCfg));\n        graph.addPlugin(minimap);\n        // return minimap;\n    }\n    return null;\n};\n/**\n * min ma\n */\nexport var getMarkerPosition = function (direction, size) {\n    if (direction === void 0) { direction = 'right'; }\n    var width = size[0], height = size[1];\n    var x = 0;\n    var y = 0;\n    switch (direction) {\n        case 'top':\n            x = width / 2;\n            y = 0;\n            break;\n        case 'right':\n            x = width;\n            y = height / 2;\n            break;\n        case 'bottom':\n            x = width / 2;\n            y = height;\n            break;\n        case 'left':\n            x = 0;\n            y = height / 2;\n            break;\n    }\n    return { x: x, y: y };\n};\n/**\n * 设置 props 默认值\n * props 会在对应图表和 hooks 里面使用，不想加个很长的赋值表达式。\n * layout 使用 merge\n */\nexport var useProps = function (props, defaultProps) {\n    return __assign(__assign(__assign({}, defaultProps), props), { layout: __assign(__assign({}, defaultProps === null || defaultProps === void 0 ? void 0 : defaultProps.layout), props === null || props === void 0 ? void 0 : props.layout) });\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}