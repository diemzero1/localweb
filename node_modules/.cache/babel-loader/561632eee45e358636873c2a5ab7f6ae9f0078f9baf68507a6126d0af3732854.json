{"ast":null,"code":"import { __assign, __extends } from \"tslib\";\nimport GroupComponent from '../abstract/group-component';\nimport { AREA_STYLE, BACKGROUND_STYLE, LINE_STYLE } from './constant';\nimport { dataToPath, linePathToAreaPath } from './path';\nvar Trend = /** @class */function (_super) {\n  __extends(Trend, _super);\n  function Trend() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  Trend.prototype.getDefaultCfg = function () {\n    var cfg = _super.prototype.getDefaultCfg.call(this);\n    return __assign(__assign({}, cfg), {\n      name: 'trend',\n      x: 0,\n      y: 0,\n      width: 200,\n      height: 16,\n      smooth: true,\n      isArea: false,\n      data: [],\n      backgroundStyle: BACKGROUND_STYLE,\n      lineStyle: LINE_STYLE,\n      areaStyle: AREA_STYLE\n    });\n  };\n  Trend.prototype.renderInner = function (group) {\n    var _a = this.cfg,\n      width = _a.width,\n      height = _a.height,\n      data = _a.data,\n      smooth = _a.smooth,\n      isArea = _a.isArea,\n      backgroundStyle = _a.backgroundStyle,\n      lineStyle = _a.lineStyle,\n      areaStyle = _a.areaStyle;\n    // 背景\n    this.addShape(group, {\n      id: this.getElementId('background'),\n      type: 'rect',\n      attrs: __assign({\n        x: 0,\n        y: 0,\n        width: width,\n        height: height\n      }, backgroundStyle)\n    });\n    var path = dataToPath(data, width, height, smooth);\n    // 线\n    this.addShape(group, {\n      id: this.getElementId('line'),\n      type: 'path',\n      attrs: __assign({\n        path: path\n      }, lineStyle)\n    });\n    // area\n    // 在 path 的基础上，增加两个坐标点\n    if (isArea) {\n      var areaPath = linePathToAreaPath(path, width, height, data);\n      this.addShape(group, {\n        id: this.getElementId('area'),\n        type: 'path',\n        attrs: __assign({\n          path: areaPath\n        }, areaStyle)\n      });\n    }\n  };\n  Trend.prototype.applyOffset = function () {\n    var _a = this.cfg,\n      x = _a.x,\n      y = _a.y;\n    // 统一移动到对应的位置\n    this.moveElementTo(this.get('group'), {\n      x: x,\n      y: y\n    });\n  };\n  return Trend;\n}(GroupComponent);\nexport { Trend };\nexport default Trend;","map":{"version":3,"mappings":";AACA,OAAOA,cAAc,MAAM,6BAA6B;AAExD,SAASC,UAAU,EAAEC,gBAAgB,EAAEC,UAAU,QAAQ,YAAY;AACrE,SAASC,UAAU,EAAEC,kBAAkB,QAAQ,QAAQ;AAkBvD;EAA2BC;EAA3B;;EAsEA;EArESC,6BAAa,GAApB;IACE,IAAMC,GAAG,GAAGC,iBAAMC,aAAa,WAAE;IACjC,6BACKF,GAAG;MACNG,IAAI,EAAE,OAAO;MACbC,CAAC,EAAE,CAAC;MACJC,CAAC,EAAE,CAAC;MACJC,KAAK,EAAE,GAAG;MACVC,MAAM,EAAE,EAAE;MACVC,MAAM,EAAE,IAAI;MACZC,MAAM,EAAE,KAAK;MACbC,IAAI,EAAE,EAAE;MACRC,eAAe,EAAEjB,gBAAgB;MACjCkB,SAAS,EAAEjB,UAAU;MACrBkB,SAAS,EAAEpB;IAAU;EAEzB,CAAC;EAESM,2BAAW,GAArB,UAAsBe,KAAa;IAC3B,SAAiF,IAAI,CAACd,GAAe;MAAnGM,KAAK;MAAEC,MAAM;MAAEG,IAAI;MAAEF,MAAM;MAAEC,MAAM;MAAEE,eAAe;MAAEC,SAAS;MAAEC,SAAS,eAAyB;IAE3G;IACA,IAAI,CAACE,QAAQ,CAACD,KAAK,EAAE;MACnBE,EAAE,EAAE,IAAI,CAACC,YAAY,CAAC,YAAY,CAAC;MACnCC,IAAI,EAAE,MAAM;MACZC,KAAK;QACHf,CAAC,EAAE,CAAC;QACJC,CAAC,EAAE,CAAC;QACJC,KAAK;QACLC,MAAM;MAAA,GACHI,eAAe;KAErB,CAAC;IAEF,IAAMS,IAAI,GAAGxB,UAAU,CAACc,IAAI,EAAEJ,KAAK,EAAEC,MAAM,EAAEC,MAAM,CAAC;IACpD;IACA,IAAI,CAACO,QAAQ,CAACD,KAAK,EAAE;MACnBE,EAAE,EAAE,IAAI,CAACC,YAAY,CAAC,MAAM,CAAC;MAC7BC,IAAI,EAAE,MAAM;MACZC,KAAK;QACHC,IAAI;MAAA,GACDR,SAAS;KAEf,CAAC;IAEF;IACA;IACA,IAAIH,MAAM,EAAE;MACV,IAAMY,QAAQ,GAAGxB,kBAAkB,CAACuB,IAAI,EAAEd,KAAK,EAAEC,MAAM,EAAEG,IAAI,CAAC;MAC9D,IAAI,CAACK,QAAQ,CAACD,KAAK,EAAE;QACnBE,EAAE,EAAE,IAAI,CAACC,YAAY,CAAC,MAAM,CAAC;QAC7BC,IAAI,EAAE,MAAM;QACZC,KAAK;UACHC,IAAI,EAAEC;QAAQ,GACXR,SAAS;OAEf,CAAC;;EAEN,CAAC;EAESd,2BAAW,GAArB;IACQ,SAAW,IAAI,CAACC,GAAe;MAA7BI,CAAC;MAAEC,CAAC,OAAyB;IAErC;IACA,IAAI,CAACiB,aAAa,CAAC,IAAI,CAACC,GAAG,CAAC,OAAO,CAAC,EAAE;MACpCnB,CAAC;MACDC,CAAC;KACF,CAAC;EACJ,CAAC;EACH,YAAC;AAAD,CAAC,CAtE0Bb,cAAc;;AAwEzC,eAAeO,KAAK","names":["GroupComponent","AREA_STYLE","BACKGROUND_STYLE","LINE_STYLE","dataToPath","linePathToAreaPath","__extends","Trend","cfg","_super","getDefaultCfg","name","x","y","width","height","smooth","isArea","data","backgroundStyle","lineStyle","areaStyle","group","addShape","id","getElementId","type","attrs","path","areaPath","moveElementTo","get"],"sources":["/home/iam/Documents/network/node_modules/@antv/component/src/trend/trend.ts"],"sourcesContent":["import { IGroup } from '@antv/g-base';\nimport GroupComponent from '../abstract/group-component';\nimport { GroupComponentCfg } from '../types';\nimport { AREA_STYLE, BACKGROUND_STYLE, LINE_STYLE } from './constant';\nimport { dataToPath, linePathToAreaPath } from './path';\n\nexport interface TrendCfg extends GroupComponentCfg {\n  // 位置大小\n  readonly x?: number;\n  readonly y?: number;\n  readonly width?: number;\n  readonly height?: number;\n  // 数据\n  readonly data?: number[];\n  // 样式\n  readonly smooth?: boolean;\n  readonly isArea?: boolean;\n  readonly backgroundStyle?: object;\n  readonly lineStyle?: object;\n  readonly areaStyle?: object;\n}\n\nexport class Trend extends GroupComponent<TrendCfg> {\n  public getDefaultCfg() {\n    const cfg = super.getDefaultCfg();\n    return {\n      ...cfg,\n      name: 'trend',\n      x: 0,\n      y: 0,\n      width: 200,\n      height: 16,\n      smooth: true,\n      isArea: false,\n      data: [],\n      backgroundStyle: BACKGROUND_STYLE,\n      lineStyle: LINE_STYLE,\n      areaStyle: AREA_STYLE,\n    };\n  }\n\n  protected renderInner(group: IGroup) {\n    const { width, height, data, smooth, isArea, backgroundStyle, lineStyle, areaStyle } = this.cfg as TrendCfg;\n\n    // 背景\n    this.addShape(group, {\n      id: this.getElementId('background'),\n      type: 'rect',\n      attrs: {\n        x: 0,\n        y: 0,\n        width,\n        height,\n        ...backgroundStyle,\n      },\n    });\n\n    const path = dataToPath(data, width, height, smooth);\n    // 线\n    this.addShape(group, {\n      id: this.getElementId('line'),\n      type: 'path',\n      attrs: {\n        path,\n        ...lineStyle,\n      },\n    });\n\n    // area\n    // 在 path 的基础上，增加两个坐标点\n    if (isArea) {\n      const areaPath = linePathToAreaPath(path, width, height, data);\n      this.addShape(group, {\n        id: this.getElementId('area'),\n        type: 'path',\n        attrs: {\n          path: areaPath,\n          ...areaStyle,\n        },\n      });\n    }\n  }\n\n  protected applyOffset() {\n    const { x, y } = this.cfg as TrendCfg;\n\n    // 统一移动到对应的位置\n    this.moveElementTo(this.get('group'), {\n      x,\n      y,\n    });\n  }\n}\n\nexport default Trend;\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}