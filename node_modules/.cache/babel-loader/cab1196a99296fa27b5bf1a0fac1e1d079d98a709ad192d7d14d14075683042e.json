{"ast":null,"code":"import _objectSpread from\"/home/iam/Documents/network/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/home/iam/Documents/network/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/iam/Documents/network/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/iam/Documents/network/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Button,Col,Form,Input,Row,Typography,Tooltip}from'antd';import api from'../../service/api/ubus-api';import{useTranslation}from\"react-i18next\";import\"../../translations/i18n\";import{LocaleSwitch}from\"../../translations/i18n\";import{LockOutlined,UserOutlined,InfoCircleOutlined}from'@ant-design/icons';import React from'react';import'./main.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var LoginForm=function LoginForm(){var _useTranslation=useTranslation(),t=_useTranslation.t;var u=t('fill_username');var p=t('fill_password');var _Form$useForm=Form.useForm(),_Form$useForm2=_slicedToArray(_Form$useForm,1),form=_Form$useForm2[0];var _React$useState=React.useState({}),_React$useState2=_slicedToArray(_React$useState,2),forceUpdate=_React$useState2[1];React.useEffect(function(){forceUpdate({});},[]);var onFinish=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(values){var result,ubus_rpc_session;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api.login(values.username,values.password);case 2:result=_context.sent;if(result.code===0){ubus_rpc_session=result.data.ubus_rpc_session;sessionStorage.setItem('token',ubus_rpc_session);window.location.href='/';}case 4:case\"end\":return _context.stop();}}},_callee);}));return function onFinish(_x){return _ref.apply(this,arguments);};}();var onClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var ip;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:ip=window.location.href.split('/')[2];window.location.replace('http://'+ip+':2050');case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function onClick(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography.Title,{level:1,style:{textAlign:'center',fontSize:'150%',fontWeight:'600',color:'black',backgroundClip:'text',WebkitBackgroundClip:'text'// textShadow: \"2px 2px 4px rgba(0, 0, 0, 0.5)\",\n// textShadow: \"1px 1px 0px #8268886e,1px 2px 0px #8268886e,1px 3px 0px #957dad,1px 4px 0px #957dad,1px 5px 0px #957dad,1px 6px 0px #826888,1px 10px 5px #826888,1px 15px 10px #826888,1px 20px 30px #826888,1px 25px 50px #826888\",\n},children:\"Have a good time\"}),/*#__PURE__*/_jsxs(Form,{form:form,layout:\"vertical\",onFinish:onFinish,children:[/*#__PURE__*/_jsx(Form.Item,{name:\"username\",rules:[{required:true,message:String(t(\"fill_username\"))}],children:/*#__PURE__*/_jsx(Input,{className:\"inputusername\",placeholder:u,prefix:/*#__PURE__*/_jsx(UserOutlined,{className:\"site-form-item-icon\"}),suffix:/*#__PURE__*/_jsx(Tooltip,{title:t('ex'),children:/*#__PURE__*/_jsx(InfoCircleOutlined,{style:{color:'rgba(0,0,0,45)'}})})})}),/*#__PURE__*/_jsx(Form.Item,{name:\"password\",rules:[{required:true,message:String(t(\"fill_password\"))}],children:/*#__PURE__*/_jsx(Input.Password,{className:\"inputpassword\",placeholder:p,prefix:/*#__PURE__*/_jsx(LockOutlined,{className:\"site-form-item-icon\"})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:17,children:/*#__PURE__*/_jsx(Form.Item,{shouldUpdate:true,children:function children(){return/*#__PURE__*/_jsx(Button,{className:\"buttonlogin\",htmlType:\"submit\",type:\"primary\",size:\"large\",danger:true,style:{backgroundColor:'#0033FF',textTransform:'uppercase'},children:\"Login\"});}})})})]})]});};export var LoginBox=function LoginBox(props){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(LocaleSwitch,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",style:{width:'100%',height:'100vh',display:'flex',flexDirection:'column',justifyContent:'space-between'},children:/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',flex:1,justifyContent:'center'},children:/*#__PURE__*/_jsx(Row,{justify:'center',style:{justifySelf:'auto'},children:/*#__PURE__*/_jsx(Col,{xs:24,sm:12,xxl:8,children:/*#__PURE__*/_jsx(LoginForm,_objectSpread({},props))})})})})]});};","map":{"version":3,"names":["Button","Col","Form","Input","Row","Typography","Tooltip","api","useTranslation","LocaleSwitch","LockOutlined","UserOutlined","InfoCircleOutlined","React","LoginForm","t","u","p","useForm","form","useState","forceUpdate","useEffect","onFinish","values","login","username","password","result","code","ubus_rpc_session","data","sessionStorage","setItem","window","location","href","onClick","ip","split","replace","textAlign","fontSize","fontWeight","color","backgroundClip","WebkitBackgroundClip","required","message","String","backgroundColor","textTransform","LoginBox","props","width","height","display","flexDirection","justifyContent","flex","justifySelf"],"sources":["/home/iam/Documents/network/src/components/antd/login-box.tsx"],"sourcesContent":["import { Button, Col, Form, Input, Row, Typography, Checkbox, Tooltip } from 'antd'\nimport api from '../../service/api/ubus-api'\nimport BgProfile from \"../../assets/icon/bg.png\";\nimport { useTranslation } from \"react-i18next\";\nimport \"../../translations/i18n\";\nimport { LocaleSwitch } from \"../../translations/i18n\"\nimport { LockOutlined, UserOutlined, DingtalkOutlined, InfoCircleOutlined, SyncOutlined } from '@ant-design/icons';\nimport React from 'react';\nimport { redirect } from 'react-router-dom';\nimport './main.css'\n\nexport const LoginForm = () => {\n\tconst { t } = useTranslation();\n\tconst u = t('fill_username')\n\tconst p = t('fill_password')\n\tconst [form] = Form.useForm();\n\tconst [, forceUpdate] = React.useState({});\n\tReact.useEffect(() => {\n\t\tforceUpdate({});\n\t}, []);\n\n\tconst onFinish = async (values: any) => {\n\t\tconst result = await api.login(values.username, values.password)\n\t\tif (result.code === 0) {\n\t\t\tconst { ubus_rpc_session } = result.data\n\t\t\tsessionStorage.setItem('token', ubus_rpc_session);\n\t\t\twindow.location.href = '/'\n\t\t}\n\t}\n\n\tconst onClick = async () => {\n\t\tconst ip = window.location.href.split('/')[2]\n\t\twindow.location.replace('http://' + ip + ':2050')\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Typography.Title level={1} style={{\n\t\t\t\ttextAlign: 'center',\n\t\t\t\tfontSize: '150%',\n\t\t\t\tfontWeight: '600',\n\t\t\t\tcolor: 'black',\n\t\t\t\tbackgroundClip: 'text',\n\t\t\t\tWebkitBackgroundClip: 'text',\n\t\t\t\t// textShadow: \"2px 2px 4px rgba(0, 0, 0, 0.5)\",\n\t\t\t\t// textShadow: \"1px 1px 0px #8268886e,1px 2px 0px #8268886e,1px 3px 0px #957dad,1px 4px 0px #957dad,1px 5px 0px #957dad,1px 6px 0px #826888,1px 10px 5px #826888,1px 15px 10px #826888,1px 20px 30px #826888,1px 25px 50px #826888\",\n\t\t\t}}>Have a good time</Typography.Title>\n\t\t\t<Form form={form} layout=\"vertical\" onFinish={onFinish}>\n\t\t\t\t<Form.Item name=\"username\" rules={[{ required: true, message: String(t(\"fill_username\")) }]}>\n\t\t\t\t\t<Input className='inputusername' placeholder={u} prefix={<UserOutlined className=\"site-form-item-icon\" />}\n\t\t\t\t\t\tsuffix={\n\t\t\t\t\t\t\t<Tooltip title={t('ex')}>\n\t\t\t\t\t\t\t\t<InfoCircleOutlined style={{ color: 'rgba(0,0,0,45)' }} />\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t} />\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item name=\"password\" rules={[{ required: true, message: String(t(\"fill_password\")) }]}>\n\t\t\t\t\t<Input.Password className='inputpassword' placeholder={p} prefix={<LockOutlined className=\"site-form-item-icon\" />} />\n\t\t\t\t</Form.Item>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col md={17}>\n\t\t\t\t\t\t<Form.Item shouldUpdate>\n\t\t\t\t\t\t\t{() => (\n\t\t\t\t\t\t\t\t<Button className='buttonlogin' htmlType=\"submit\" type=\"primary\" size='large' danger style={{  backgroundColor: '#0033FF',\n\t\t\t\t\t\t\t\t\ttextTransform: 'uppercase',\n\t\t\t\t\t\t\t\t}}>Login</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t</Col>\n\t\t\t\t\t{/* <Col md={7}>\n\t\t\t\t\t\t<Button className='buttonswitch' size='large' type=\"primary\" onClick={onClick} icon={<SyncOutlined />}>\n\t\t\t\t\t\t\tSwitch Account\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Col> */}\n\t\t\t\t</Row>\n\t\t\t</Form>\n\t\t</>\n\t)\n}\n\nexport const LoginBox = (props: any) => {\n\treturn (\n\t\t<>\n\t\t\t<LocaleSwitch />\n\t\t\t<div className='container'\n\t\t\t\tstyle={{\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\theight: '100vh',\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\tflexDirection: 'column',\n\t\t\t\t\tjustifyContent: 'space-between',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div style={{ display: 'flex', flexDirection: 'column', flex: 1, justifyContent: 'center' }}>\n\t\t\t\t\t<Row justify={'center'} style={{ justifySelf: 'auto' }}>\n\t\t\t\t\t\t<Col xs={24} sm={12} xxl={8}>\n\t\t\t\t\t\t\t<LoginForm {...props} />\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t)\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}