{"ast":null,"code":"var _jsxFileName = \"/home/iam/Documents/network/src/components/antd/login-box.tsx\",\n  _s = $RefreshSig$();\nimport { Button, Col, Form, Input, Row, Typography, Tooltip } from 'antd';\nimport api from '../../service/api/ubus-api';\nimport { useTranslation } from \"react-i18next\";\nimport \"../../translations/i18n\";\nimport { LocaleSwitch } from \"../../translations/i18n\";\nimport { LockOutlined, UserOutlined, InfoCircleOutlined, SyncOutlined } from '@ant-design/icons';\nimport React from 'react';\nimport './main.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const LoginForm = () => {\n  _s();\n  const {\n    t\n  } = useTranslation();\n  const u = t('fill_username');\n  const p = t('fill_password');\n  const [form] = Form.useForm();\n  const [, forceUpdate] = React.useState({});\n  React.useEffect(() => {\n    forceUpdate({});\n  }, []);\n  const onFinish = async values => {\n    const result = await api.login(values.username, values.password);\n    if (result.code === 0) {\n      const {\n        ubus_rpc_session\n      } = result.data;\n      sessionStorage.setItem('token', ubus_rpc_session);\n      window.location.href = '/';\n    }\n  };\n  const onClick = async () => {\n    const ip = window.location.href.split('/')[2];\n    window.location.replace('http://' + ip + ':2050');\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Typography.Title, {\n      level: 1,\n      style: {\n        textAlign: 'center',\n        fontSize: '450%',\n        fontWeight: '600',\n        color: '#fff',\n        backgroundClip: 'text',\n        WebkitBackgroundClip: 'text'\n        // textShadow: \"1px 1px 0px #8268886e,1px 2px 0px #8268886e,1px 3px 0px #957dad,1px 4px 0px #957dad,1px 5px 0px #957dad,1px 6px 0px #826888,1px 10px 5px #826888,1px 15px 10px #826888,1px 20px 30px #826888,1px 25px 50px #826888\",\n      },\n      children: \"LOCAL WEB\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      form: form,\n      layout: \"vertical\",\n      onFinish: onFinish,\n      children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"username\",\n        rules: [{\n          required: true,\n          message: String(t(\"fill_username\"))\n        }],\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          className: \"inputusername\",\n          placeholder: u,\n          prefix: /*#__PURE__*/_jsxDEV(UserOutlined, {\n            className: \"site-form-item-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 63\n          }, this),\n          suffix: /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: t('ex'),\n            children: /*#__PURE__*/_jsxDEV(InfoCircleOutlined, {\n              style: {\n                color: 'rgba(0,0,0,45)'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"password\",\n        rules: [{\n          required: true,\n          message: String(t(\"fill_password\"))\n        }],\n        children: /*#__PURE__*/_jsxDEV(Input.Password, {\n          className: \"inputpassword\",\n          placeholder: p,\n          prefix: /*#__PURE__*/_jsxDEV(LockOutlined, {\n            className: \"site-form-item-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 72\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 17,\n          children: /*#__PURE__*/_jsxDEV(Form.Item, {\n            shouldUpdate: true,\n            children: () => /*#__PURE__*/_jsxDEV(Button, {\n              className: \"buttonlogin\",\n              htmlType: \"submit\",\n              type: \"primary\",\n              size: \"large\",\n              danger: true,\n              style: {\n                textTransform: 'uppercase'\n              },\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 7,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            className: \"buttonswitch\",\n            size: \"large\",\n            type: \"primary\",\n            onClick: onClick,\n            icon: /*#__PURE__*/_jsxDEV(SyncOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 92\n            }, this),\n            children: \"Switch Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n_s(LoginForm, \"j38FbMMhauBIf0K7+h4g0D/sGLc=\", false, function () {\n  return [useTranslation, Form.useForm];\n});\n_c = LoginForm;\nexport const LoginBox = props => {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(LocaleSwitch, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      style: {\n        width: '100%',\n        height: '100vh',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'space-between'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          flex: 1,\n          justifyContent: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          justify: 'center',\n          style: {\n            justifySelf: 'auto'\n          },\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            xs: 24,\n            sm: 12,\n            xxl: 8,\n            children: /*#__PURE__*/_jsxDEV(LoginForm, {\n              ...props\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n_c2 = LoginBox;\nvar _c, _c2;\n$RefreshReg$(_c, \"LoginForm\");\n$RefreshReg$(_c2, \"LoginBox\");","map":{"version":3,"names":["Button","Col","Form","Input","Row","Typography","Tooltip","api","useTranslation","LocaleSwitch","LockOutlined","UserOutlined","InfoCircleOutlined","SyncOutlined","React","LoginForm","t","u","p","form","useForm","forceUpdate","useState","useEffect","onFinish","values","result","login","username","password","code","ubus_rpc_session","data","sessionStorage","setItem","window","location","href","onClick","ip","split","replace","textAlign","fontSize","fontWeight","color","backgroundClip","WebkitBackgroundClip","required","message","String","textTransform","LoginBox","props","width","height","display","flexDirection","justifyContent","flex","justifySelf"],"sources":["/home/iam/Documents/network/src/components/antd/login-box.tsx"],"sourcesContent":["import { Button, Col, Form, Input, Row, Typography, Checkbox, Tooltip } from 'antd'\nimport api from '../../service/api/ubus-api'\nimport BgProfile from \"../../assets/icon/bg.png\";\nimport { useTranslation } from \"react-i18next\";\nimport \"../../translations/i18n\";\nimport { LocaleSwitch } from \"../../translations/i18n\"\nimport { LockOutlined, UserOutlined, DingtalkOutlined, InfoCircleOutlined, SyncOutlined } from '@ant-design/icons';\nimport React from 'react';\nimport { redirect } from 'react-router-dom';\nimport './main.css'\n\nexport const LoginForm = () => {\n\tconst { t } = useTranslation();\n\tconst u = t('fill_username')\n\tconst p = t('fill_password')\n\tconst [form] = Form.useForm();\n\tconst [, forceUpdate] = React.useState({});\n\tReact.useEffect(() => {\n\t\tforceUpdate({});\n\t}, []);\n\n\tconst onFinish = async (values: any) => {\n\t\tconst result = await api.login(values.username, values.password)\n\t\tif (result.code === 0) {\n\t\t\tconst { ubus_rpc_session } = result.data\n\t\t\tsessionStorage.setItem('token', ubus_rpc_session);\n\t\t\twindow.location.href = '/'\n\t\t}\n\t}\n\n\tconst onClick = async () => {\n\t\tconst ip = window.location.href.split('/')[2]\n\t\twindow.location.replace('http://' + ip + ':2050')\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Typography.Title level={1} style={{\n\t\t\t\ttextAlign: 'center',\n\t\t\t\tfontSize: '450%',\n\t\t\t\tfontWeight: '600',\n\t\t\t\tcolor: '#fff',\n\t\t\t\tbackgroundClip: 'text',\n\t\t\t\tWebkitBackgroundClip: 'text',\n\t\t\t\t// textShadow: \"1px 1px 0px #8268886e,1px 2px 0px #8268886e,1px 3px 0px #957dad,1px 4px 0px #957dad,1px 5px 0px #957dad,1px 6px 0px #826888,1px 10px 5px #826888,1px 15px 10px #826888,1px 20px 30px #826888,1px 25px 50px #826888\",\n\t\t\t}}>LOCAL WEB</Typography.Title>\n\t\t\t<Form form={form} layout=\"vertical\" onFinish={onFinish}>\n\t\t\t\t<Form.Item name=\"username\" rules={[{ required: true, message: String(t(\"fill_username\")) }]}>\n\t\t\t\t\t<Input className='inputusername' placeholder={u} prefix={<UserOutlined className=\"site-form-item-icon\" />}\n\t\t\t\t\t\tsuffix={\n\t\t\t\t\t\t\t<Tooltip title={t('ex')}>\n\t\t\t\t\t\t\t\t<InfoCircleOutlined style={{ color: 'rgba(0,0,0,45)' }} />\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t} />\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item name=\"password\" rules={[{ required: true, message: String(t(\"fill_password\")) }]}>\n\t\t\t\t\t<Input.Password className='inputpassword' placeholder={p} prefix={<LockOutlined className=\"site-form-item-icon\" />} />\n\t\t\t\t</Form.Item>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col md={17}>\n\t\t\t\t\t\t<Form.Item shouldUpdate>\n\t\t\t\t\t\t\t{() => (\n\t\t\t\t\t\t\t\t<Button className='buttonlogin' htmlType=\"submit\" type=\"primary\" size='large' danger style={{\n\t\t\t\t\t\t\t\t\ttextTransform: 'uppercase',\n\t\t\t\t\t\t\t\t}}>Login</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col md={7}>\n\t\t\t\t\t\t<Button className='buttonswitch' size='large' type=\"primary\" onClick={onClick} icon={<SyncOutlined />}>\n\t\t\t\t\t\t\tSwitch Account\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Form>\n\t\t</>\n\t)\n}\n\nexport const LoginBox = (props: any) => {\n\treturn (\n\t\t<>\n\t\t\t<LocaleSwitch />\n\t\t\t<div className='container'\n\t\t\t\tstyle={{\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\theight: '100vh',\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\tflexDirection: 'column',\n\t\t\t\t\tjustifyContent: 'space-between',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div style={{ display: 'flex', flexDirection: 'column', flex: 1, justifyContent: 'center' }}>\n\t\t\t\t\t<Row justify={'center'} style={{ justifySelf: 'auto' }}>\n\t\t\t\t\t\t<Col xs={24} sm={12} xxl={8}>\n\t\t\t\t\t\t\t<LoginForm {...props} />\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t)\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}