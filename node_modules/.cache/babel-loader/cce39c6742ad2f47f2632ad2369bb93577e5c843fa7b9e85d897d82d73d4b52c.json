{"ast":null,"code":"import _regeneratorRuntime from\"/home/iam/Documents/network/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/iam/Documents/network/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/iam/Documents/network/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{GlobalOutlined,HomeOutlined,SettingOutlined,LogoutOutlined}from'@ant-design/icons';import{Menu}from'antd';import React from'react';import{useNavigate}from'react-router-dom';import{useTranslation}from\"react-i18next\";import\"../../translations/i18n\";import{jsx as _jsx}from\"react/jsx-runtime\";function GetItem(label,key,icon,children,type){return{key:key,icon:icon,children:children,label:label,type:type};}export var MainMenu=function MainMenu(props){var _useTranslation=useTranslation(),t=_useTranslation.t;var items=[GetItem(t('dashboard'),'',/*#__PURE__*/_jsx(HomeOutlined,{})),GetItem(t('internet'),'internet',/*#__PURE__*/_jsx(GlobalOutlined,{}),[GetItem(t('basic_wireless'),'network/basicwifi'),GetItem(t('wan_settings'),'internet/wan'),GetItem(t('lan_settings'),'network/lan'),GetItem(t('mesh'),'network/mesh'),// GetItem(t('ddns'), 'internet/ddns'),\n// GetItem(t('openvpn'), 'internet/openvpn'),\nGetItem(t('routing'),'internet/routing')// GetItem(t('vlan_settings'), 'network/vlan'),\n// GetItem(t('igmp'), 'network/igmp'),\n]),// GetItem(t('local_network'), 'network', <PartitionOutlined />, [\n//   GetItem(t('lan_settings'), 'network/lan'),\n//   // GetItem(t('vlan_settings'), 'network/vlan'),\n//   // GetItem(t('igmp'), 'network/igmp'),\n//   GetItem(t('mesh'), 'network/mesh'),\n//   GetItem(t('basic_wireless'), 'network/basicwifi'),\n//   // GetItem(t('guest_wifi'), 'network/guest'),\n// ]),\n// GetItem(t('security'), 'security', <SafetyCertificateOutlined />, [\n//   GetItem(t('port_forward'), 'security/portforward'),\n//   GetItem(t('ip_filter'), 'security/ipfilter'),\n//   GetItem(t('url_filter'), 'security/urlfilter'),\n// ]),\n// GetItem(t('linksafe_service'), 'linksafe', <SolutionOutlined />, [\n//   GetItem(t('register'), 'linksafe/register'),\n// ]),\nGetItem(t('system'),'system',/*#__PURE__*/_jsx(SettingOutlined,{}),[GetItem(t('basic_settings'),'system/system'),// GetItem(t('Ping'), 'system/ping'),\n// GetItem(t('Traceroute'), 'system/traceroute'),\nGetItem(t('update_firmware'),'system/update'),GetItem(t('factory_reset'),'system/rsfactory'),GetItem(t('reboot'),'system/reboot'),GetItem(t('shutdown'),'system/shutdown')]),GetItem(t('logout'),'logout',/*#__PURE__*/_jsx(LogoutOutlined,{}))];var setmenu=props.setmenu,selected=props.selected;var _React$useState=React.useState(setmenu),_React$useState2=_slicedToArray(_React$useState,2),selectedKey=_React$useState2[0],setSelectedKey=_React$useState2[1];var _React$useState3=React.useState(['']),_React$useState4=_slicedToArray(_React$useState3,2),openKeys=_React$useState4[0],setOpenKeys=_React$useState4[1];var navigate=useNavigate();var refreshData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(setmenu===null||setmenu===\"\"){setOpenKeys(['dashboard']);setSelectedKey(\"\");}else{setOpenKeys([setmenu.split('/')[0]]);setSelectedKey(setmenu);}case 1:case\"end\":return _context.stop();}}},_callee);}));return function refreshData(){return _ref.apply(this,arguments);};}();// setTimeout(() => {\n//   refreshData()\n// }, 1000);\n// console.log('xinchao: ', setmenu)\nvar onMenuItemClicked=function onMenuItemClicked(_ref2){var item=_ref2.item,key=_ref2.key,keyPath=_ref2.keyPath,domEvent=_ref2.domEvent;setSelectedKey(key);sessionStorage.setItem(\"menu\",key);navigate('/'+key);};var rootSubmenuKeys=['','internet','network','security','linksafe','system'];var onOpenChange=function onOpenChange(keys){var latestOpenKey=keys.find(function(key){return openKeys.indexOf(key)===-1;});if(rootSubmenuKeys.indexOf(latestOpenKey)===-1){setOpenKeys(keys);}else{setOpenKeys(latestOpenKey?[latestOpenKey]:[]);}};return/*#__PURE__*/_jsx(Menu,{onClick:onMenuItemClicked,openKeys:openKeys,mode:\"inline\",onOpenChange:onOpenChange,items:items,theme:\"light\",triggerSubMenuAction:\"click\",selectedKeys:[selectedKey],style:{fontWeight:\"bold\"}});};","map":{"version":3,"names":["GlobalOutlined","HomeOutlined","SettingOutlined","LogoutOutlined","Menu","React","useNavigate","useTranslation","GetItem","label","key","icon","children","type","MainMenu","props","t","items","setmenu","selected","useState","selectedKey","setSelectedKey","openKeys","setOpenKeys","navigate","refreshData","split","onMenuItemClicked","item","keyPath","domEvent","sessionStorage","setItem","rootSubmenuKeys","onOpenChange","keys","latestOpenKey","find","indexOf","fontWeight"],"sources":["/home/iam/Documents/network/src/components/antd/main-menu.tsx"],"sourcesContent":["import {\n  TableOutlined,\n  GlobalOutlined,\n  PartitionOutlined,\n  HomeOutlined,\n  UserOutlined,\n  SafetyCertificateOutlined,\n  SettingOutlined,\n  WifiOutlined,\n  SafetyOutlined,\n  LogoutOutlined,\n  SolutionOutlined,\n} from '@ant-design/icons'\nimport { Menu } from 'antd'\nimport React from 'react'\n\nimport { useSelector } from 'react-redux'\nimport { useNavigate } from 'react-router-dom'\nimport { appStateSelector } from '../../redux/reducer/appStateSlice'\n\nimport type { MenuProps } from 'antd';\n\nimport { useTranslation } from \"react-i18next\";\nimport \"../../translations/i18n\";\n\ntype MenuItem = Required<MenuProps>['items'][number];\n\nfunction GetItem(\n  label: React.ReactNode,\n  key: React.Key,\n  icon?: React.ReactNode,\n  children?: MenuItem[],\n  type?: 'group',\n): MenuItem {\n\n  return {\n    key,\n    icon,\n    children,\n    label,\n    type,\n  } as MenuItem;\n}\n\nexport const MainMenu = (props: any) => {\n  const { t } = useTranslation();\n\n  const items: MenuProps['items'] = [\n\n    GetItem(t('dashboard'), '', <HomeOutlined />),\n\n    GetItem(t('internet'), 'internet', <GlobalOutlined />, [\n      GetItem(t('basic_wireless'), 'network/basicwifi'),\n      GetItem(t('wan_settings'), 'internet/wan'),\n      GetItem(t('lan_settings'), 'network/lan'),\n      GetItem(t('mesh'), 'network/mesh'),\n      // GetItem(t('ddns'), 'internet/ddns'),\n      // GetItem(t('openvpn'), 'internet/openvpn'),\n      GetItem(t('routing'), 'internet/routing'),\n      \n      // GetItem(t('vlan_settings'), 'network/vlan'),\n      // GetItem(t('igmp'), 'network/igmp'),\n      \n      \n\n    ]),\n\n    // GetItem(t('local_network'), 'network', <PartitionOutlined />, [\n    //   GetItem(t('lan_settings'), 'network/lan'),\n    //   // GetItem(t('vlan_settings'), 'network/vlan'),\n    //   // GetItem(t('igmp'), 'network/igmp'),\n    //   GetItem(t('mesh'), 'network/mesh'),\n    //   GetItem(t('basic_wireless'), 'network/basicwifi'),\n    //   // GetItem(t('guest_wifi'), 'network/guest'),\n    // ]),\n\n    // GetItem(t('security'), 'security', <SafetyCertificateOutlined />, [\n    //   GetItem(t('port_forward'), 'security/portforward'),\n    //   GetItem(t('ip_filter'), 'security/ipfilter'),\n    //   GetItem(t('url_filter'), 'security/urlfilter'),\n    // ]),\n\n    // GetItem(t('linksafe_service'), 'linksafe', <SolutionOutlined />, [\n    //   GetItem(t('register'), 'linksafe/register'),\n    // ]),\n\n    GetItem(t('system'), 'system', <SettingOutlined />, [\n      GetItem(t('basic_settings'), 'system/system'),\n      // GetItem(t('Ping'), 'system/ping'),\n      // GetItem(t('Traceroute'), 'system/traceroute'),\n      GetItem(t('update_firmware'), 'system/update'),\n      GetItem(t('factory_reset'), 'system/rsfactory'),\n      GetItem(t('reboot'), 'system/reboot'),\n      GetItem(t('shutdown'), 'system/shutdown'),\n    ]),\n\n    GetItem(t('logout'), 'logout', <LogoutOutlined />),\n\n  ];\n\n  const { setmenu, selected } = props\n  const [selectedKey, setSelectedKey] = React.useState(setmenu)\n  const [openKeys, setOpenKeys] = React.useState(['']);\n  const navigate = useNavigate()\n\n\n  const refreshData = async () => {\n    if (setmenu === null || setmenu === \"\") {\n      setOpenKeys(['dashboard'])\n      setSelectedKey(\"\")\n    } else {\n      setOpenKeys([setmenu.split('/')[0]])\n      setSelectedKey(setmenu)\n    }\n  }\n  // setTimeout(() => {\n  //   refreshData()\n  // }, 1000);\n  // console.log('xinchao: ', setmenu)\n\n  const onMenuItemClicked = ({ item, key, keyPath, domEvent }: any) => {\n    setSelectedKey(key)\n    sessionStorage.setItem(\"menu\", key)\n    navigate('/' + key)\n  }\n\n  const rootSubmenuKeys = ['', 'internet', 'network', 'security', 'linksafe', 'system'];\n\n  const onOpenChange = (keys: any) => {\n    const latestOpenKey = keys.find((key: string) => openKeys.indexOf(key) === -1);\n    if (rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\n      setOpenKeys(keys);\n    } else {\n      setOpenKeys(latestOpenKey ? [latestOpenKey] : []);\n    }\n  }\n\n  return (\n    <Menu\n      onClick={onMenuItemClicked}\n      openKeys={openKeys}\n      mode=\"inline\"\n      onOpenChange={onOpenChange}\n      items={items}\n      theme=\"light\"\n      triggerSubMenuAction=\"click\"\n      selectedKeys={[selectedKey]}\n      style={{ fontWeight: \"bold\" }}\n    />\n  );\n\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}