{"ast":null,"code":"import _regeneratorRuntime from\"/home/iam/Documents/network/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/iam/Documents/network/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{DeleteOutlined,EditOutlined}from'@ant-design/icons';import{Table,Space,Button,Popconfirm,message}from'antd';import React from'react';import ubusApi from'service/api/ubus-api';import{useTranslation}from\"react-i18next\";import\"../../../../translations/i18n\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var VlanTable=function VlanTable(props){var onEditItem=props.onEditItem,onDeleteItem=props.onDeleteItem,tableData=props.tableData,hihi=props.hihi;var _useTranslation=useTranslation(),t=_useTranslation.t;var abc=t('edit');var def=t('delete');var refreshPage=function refreshPage(){window.location.reload();};var confirmDeleteGroup=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(group){var vlan,key;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return ubusApi.config_network_vlan(\"access\",\"del\",group.id,group.name,group.vid,group.dev);case 2:vlan=_context.sent;// console.log(\"data1: \",group)\nkey='updatable';message.loading({content:t('loading'),key:key});setTimeout(function(){message.success({content:t('success'),key:key,duration:2});},1000);setTimeout(function(){window.location.reload();},1500);case 7:case\"end\":return _context.stop();}}},_callee);}));return function confirmDeleteGroup(_x){return _ref.apply(this,arguments);};}();var columns=[{title:'VLAN ID',key:'vid',dataIndex:'vid'},{title:t('name'),key:'name',dataIndex:'name'},{title:t('interface'),key:'dev',dataIndex:'dev',render:function render(dev){return dev.join(' ');}},{title:t('action'),key:'action',render:function render(_,record){if(record.admin_id<=0){return null;}return/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{icon:/*#__PURE__*/_jsx(EditOutlined,{}),title:abc,onClick:function onClick(){return onEditItem(record);}}),/*#__PURE__*/_jsx(Popconfirm,{placement:\"top\",title:t('delete_cf'),onConfirm:function onConfirm(){return confirmDeleteGroup(record);},okText:t('yes'),cancelText:t('no'),children:/*#__PURE__*/_jsx(Button,{icon:/*#__PURE__*/_jsx(DeleteOutlined,{}),danger:true,type:\"primary\",title:def})})]});}}];if(!hihi){return/*#__PURE__*/_jsx(Table,{columns:columns,dataSource:hihi,loading:true,style:{minWidth:400}});}else{return/*#__PURE__*/_jsx(Table,{columns:columns,dataSource:hihi,style:{minWidth:400}});}};export var VlanTable1=function VlanTable1(props){var onEditItem=props.onEditItem,onDeleteItem=props.onDeleteItem,tableData=props.tableData,haha=props.haha;var _useTranslation2=useTranslation(),t=_useTranslation2.t;var abc=t('edit');var def=t('delete');var confirmDeleteGroup=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(group){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt(\"return\",onDeleteItem(group));case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function confirmDeleteGroup(_x2){return _ref2.apply(this,arguments);};}();var columns=[{title:'VLAN ID',key:'vid',dataIndex:'vid'},{title:t('interface'),key:'dev',dataIndex:'dev'},{title:t('action'),key:'action',render:function render(_,record){if(record.admin_id<=0){return null;}return/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{icon:/*#__PURE__*/_jsx(EditOutlined,{}),title:abc,onClick:function onClick(){return onEditItem(record);}}),/*#__PURE__*/_jsx(Popconfirm,{placement:\"top\",title:t('delete_cf'),onConfirm:function onConfirm(){return confirmDeleteGroup(record);},okText:t('yes'),cancelText:t('no'),children:/*#__PURE__*/_jsx(Button,{icon:/*#__PURE__*/_jsx(DeleteOutlined,{}),danger:true,type:\"primary\",title:def})})]});}}];if(!haha){return/*#__PURE__*/_jsx(Table,{columns:columns,dataSource:haha,loading:true,style:{minWidth:400}});}else{return/*#__PURE__*/_jsx(Table,{columns:columns,dataSource:haha,style:{minWidth:400}});}};","map":{"version":3,"names":["DeleteOutlined","EditOutlined","Table","Space","Button","Popconfirm","message","React","ubusApi","useTranslation","VlanTable","props","onEditItem","onDeleteItem","tableData","hihi","t","abc","def","refreshPage","window","location","reload","confirmDeleteGroup","group","config_network_vlan","id","name","vid","dev","vlan","key","loading","content","setTimeout","success","duration","columns","title","dataIndex","render","join","_","record","admin_id","minWidth","VlanTable1","haha"],"sources":["/home/iam/Documents/network/src/components/antd/network/vlan/table.tsx"],"sourcesContent":["import { DeleteOutlined, EditOutlined } from '@ant-design/icons'\nimport { Table, Space, Button, Popconfirm, message } from 'antd'\nimport React from 'react'\nimport ubusApi from 'service/api/ubus-api'\nimport { useTranslation } from \"react-i18next\"\nimport \"../../../../translations/i18n\"\n\nexport const VlanTable = (props: any) => {\n    const { onEditItem, onDeleteItem, tableData, hihi } = props\n    const { t } = useTranslation()\n    const abc = t('edit')\n    const def = t('delete')\n    const refreshPage = () => {\n        window.location.reload()\n    }\n    const confirmDeleteGroup = async (group: any) => {\n        // console.log(\"data1: \",))\n        // const vlan = group.dev.map((item:any) => {item.toString()})\n        const vlan = await ubusApi.config_network_vlan(\"access\", \"del\", group.id, group.name, group.vid, group.dev)\n        // console.log(\"data1: \",group)\n        const key = 'updatable';\n        message.loading({ content: t('loading'), key });\n        setTimeout(() => {\n            message.success({ content: t('success'), key, duration: 2 });\n        }, 1000);\n        setTimeout(() => {\n            window.location.reload()\n        }, 1500);\n    }\n    const columns = [\n        { title: 'VLAN ID', key: 'vid', dataIndex: 'vid' },\n        { title: t('name'), key: 'name', dataIndex: 'name' },\n        { title: t('interface'), key: 'dev', dataIndex: 'dev',render: (dev: string[]) => dev.join(' '),},\n        {\n            title: t('action'),\n            key: 'action',\n            render: (_: string, record: any) => {\n                if (record.admin_id <= 0) {\n                    return null\n                }\n                return (\n                    <Space>\n                        <Button icon={<EditOutlined />} title={abc} onClick={() => onEditItem(record)} />\n                        <Popconfirm\n                            placement=\"top\"\n                            title={t('delete_cf')}\n                            onConfirm={() => confirmDeleteGroup(record)}\n                            okText={t('yes')}\n                            cancelText={t('no')}\n                        >\n                            <Button icon={<DeleteOutlined />}  danger type=\"primary\" title={def} />\n                        </Popconfirm>\n                    </Space>\n                )\n            },\n        },\n    ]\n    if (!hihi) {\n        return (\n            <Table columns={columns} dataSource={hihi} loading style={{ minWidth: 400 }} />\n        )\n    } else {\n        return (\n            <Table columns={columns} dataSource={hihi} style={{ minWidth: 400 }} />\n        )\n    }\n}\nexport const VlanTable1 = (props: any) => {\n    const { onEditItem, onDeleteItem, tableData, haha } = props\n    const { t } = useTranslation()\n    const abc = t('edit')\n    const def = t('delete')\n    const confirmDeleteGroup = async (group: any) => {\n        return onDeleteItem(group)\n    }\n    const columns = [\n        { title: 'VLAN ID', key: 'vid', dataIndex: 'vid' },\n        { title: t('interface'), key: 'dev', dataIndex: 'dev' },\n        {\n            title: t('action'),\n            key: 'action',\n            render: (_: string, record: any) => {\n                if (record.admin_id <= 0) {\n                    return null\n                }\n                return (\n                    <Space>\n                        <Button icon={<EditOutlined />} title={abc} onClick={() => onEditItem(record)} />\n                        <Popconfirm\n                            placement=\"top\"\n                            title={t('delete_cf')}\n                            onConfirm={() => confirmDeleteGroup(record)}\n                            okText={t('yes')}\n                            cancelText={t('no')}\n                        >\n                            <Button icon={<DeleteOutlined />} danger type=\"primary\" title={def} />\n                        </Popconfirm>\n                    </Space>\n                )\n            },\n        },\n    ]\n\n    if (!haha) {\n        return (\n            <Table columns={columns} dataSource={haha} loading style={{ minWidth: 400 }} />\n        )\n    } else {\n        return (\n            <Table columns={columns} dataSource={haha} style={{ minWidth: 400 }} />\n        )\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}