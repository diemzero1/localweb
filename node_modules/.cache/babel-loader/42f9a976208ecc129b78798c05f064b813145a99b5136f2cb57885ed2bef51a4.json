{"ast":null,"code":"import { __assign, __extends } from \"tslib\";\nimport GroupComponent from '../abstract/group-component';\nimport { getCirclePoint } from '../util/util';\nvar ArcAnnotation = /** @class */function (_super) {\n  __extends(ArcAnnotation, _super);\n  function ArcAnnotation() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * @protected\n   * 默认的配置项\n   * @returns {object} 默认的配置项\n   */\n  ArcAnnotation.prototype.getDefaultCfg = function () {\n    var cfg = _super.prototype.getDefaultCfg.call(this);\n    return __assign(__assign({}, cfg), {\n      name: 'annotation',\n      type: 'arc',\n      locationType: 'circle',\n      center: null,\n      radius: 100,\n      startAngle: -Math.PI / 2,\n      endAngle: Math.PI * 3 / 2,\n      style: {\n        stroke: '#999',\n        lineWidth: 1\n      }\n    });\n  };\n  ArcAnnotation.prototype.renderInner = function (group) {\n    this.renderArc(group);\n  };\n  ArcAnnotation.prototype.getArcPath = function () {\n    var _a = this.getLocation(),\n      center = _a.center,\n      radius = _a.radius,\n      startAngle = _a.startAngle,\n      endAngle = _a.endAngle;\n    var startPoint = getCirclePoint(center, radius, startAngle);\n    var endPoint = getCirclePoint(center, radius, endAngle);\n    var largeFlag = endAngle - startAngle > Math.PI ? 1 : 0;\n    var path = [['M', startPoint.x, startPoint.y]];\n    if (endAngle - startAngle === Math.PI * 2) {\n      // 整个圆是分割成两个圆\n      var middlePoint = getCirclePoint(center, radius, startAngle + Math.PI);\n      path.push(['A', radius, radius, 0, largeFlag, 1, middlePoint.x, middlePoint.y]);\n      path.push(['A', radius, radius, 0, largeFlag, 1, endPoint.x, endPoint.y]);\n    } else {\n      path.push(['A', radius, radius, 0, largeFlag, 1, endPoint.x, endPoint.y]);\n    }\n    return path;\n  };\n  // 绘制 arc\n  ArcAnnotation.prototype.renderArc = function (group) {\n    // 也可以 通过 get('center') 类似的方式逐个获取\n    var path = this.getArcPath();\n    var style = this.get('style');\n    this.addShape(group, {\n      type: 'path',\n      id: this.getElementId('arc'),\n      name: 'annotation-arc',\n      attrs: __assign({\n        path: path\n      }, style)\n    });\n  };\n  return ArcAnnotation;\n}(GroupComponent);\nexport default ArcAnnotation;","map":{"version":3,"mappings":";AACA,OAAOA,cAAc,MAAM,6BAA6B;AAGxD,SAASC,cAAc,QAAQ,cAAc;AAE7C;EAA4BC;EAA5B;;EA6DA;EA5DE;;;;;EAKOC,qCAAa,GAApB;IACE,IAAMC,GAAG,GAAGC,iBAAMC,aAAa,WAAE;IACjC,6BACKF,GAAG;MACNG,IAAI,EAAE,YAAY;MAClBC,IAAI,EAAE,KAAK;MACXC,YAAY,EAAE,QAAQ;MACtBC,MAAM,EAAE,IAAI;MACZC,MAAM,EAAE,GAAG;MACXC,UAAU,EAAE,CAACC,IAAI,CAACC,EAAE,GAAG,CAAC;MACxBC,QAAQ,EAAGF,IAAI,CAACC,EAAE,GAAG,CAAC,GAAI,CAAC;MAC3BE,KAAK,EAAE;QACLC,MAAM,EAAE,MAAM;QACdC,SAAS,EAAE;;IACZ;EAEL,CAAC;EAESf,mCAAW,GAArB,UAAsBgB,KAAa;IACjC,IAAI,CAACC,SAAS,CAACD,KAAK,CAAC;EACvB,CAAC;EAEOhB,kCAAU,GAAlB;IACQ,SAA2C,IAAI,CAACkB,WAAW,EAAE;MAA3DX,MAAM;MAAEC,MAAM;MAAEC,UAAU;MAAEG,QAAQ,cAAuB;IACnE,IAAMO,UAAU,GAAGrB,cAAc,CAACS,MAAM,EAAEC,MAAM,EAAEC,UAAU,CAAC;IAC7D,IAAMW,QAAQ,GAAGtB,cAAc,CAACS,MAAM,EAAEC,MAAM,EAAEI,QAAQ,CAAC;IACzD,IAAMS,SAAS,GAAGT,QAAQ,GAAGH,UAAU,GAAGC,IAAI,CAACC,EAAE,GAAG,CAAC,GAAG,CAAC;IAEzD,IAAMW,IAAI,GAAG,CAAC,CAAC,GAAG,EAAEH,UAAU,CAACI,CAAC,EAAEJ,UAAU,CAACK,CAAC,CAAC,CAAC;IAChD,IAAIZ,QAAQ,GAAGH,UAAU,KAAKC,IAAI,CAACC,EAAE,GAAG,CAAC,EAAE;MACzC;MACA,IAAMc,WAAW,GAAG3B,cAAc,CAACS,MAAM,EAAEC,MAAM,EAAEC,UAAU,GAAGC,IAAI,CAACC,EAAE,CAAC;MACxEW,IAAI,CAACI,IAAI,CAAC,CAAC,GAAG,EAAElB,MAAM,EAAEA,MAAM,EAAE,CAAC,EAAEa,SAAS,EAAE,CAAC,EAAEI,WAAW,CAACF,CAAC,EAAEE,WAAW,CAACD,CAAC,CAAC,CAAC;MAC/EF,IAAI,CAACI,IAAI,CAAC,CAAC,GAAG,EAAElB,MAAM,EAAEA,MAAM,EAAE,CAAC,EAAEa,SAAS,EAAE,CAAC,EAAED,QAAQ,CAACG,CAAC,EAAEH,QAAQ,CAACI,CAAC,CAAC,CAAC;KAC1E,MAAM;MACLF,IAAI,CAACI,IAAI,CAAC,CAAC,GAAG,EAAElB,MAAM,EAAEA,MAAM,EAAE,CAAC,EAAEa,SAAS,EAAE,CAAC,EAAED,QAAQ,CAACG,CAAC,EAAEH,QAAQ,CAACI,CAAC,CAAC,CAAC;;IAE3E,OAAOF,IAAI;EACb,CAAC;EAED;EACQtB,iCAAS,GAAjB,UAAkBgB,KAAa;IAC7B;IACA,IAAMM,IAAI,GAAG,IAAI,CAACK,UAAU,EAAE;IAC9B,IAAMd,KAAK,GAAG,IAAI,CAACe,GAAG,CAAC,OAAO,CAAC;IAC/B,IAAI,CAACC,QAAQ,CAACb,KAAK,EAAE;MACnBX,IAAI,EAAE,MAAM;MACZyB,EAAE,EAAE,IAAI,CAACC,YAAY,CAAC,KAAK,CAAC;MAC5B3B,IAAI,EAAE,gBAAgB;MACtB4B,KAAK;QACHV,IAAI;MAAA,GACDT,KAAK;KAEX,CAAC;EACJ,CAAC;EACH,oBAAC;AAAD,CAAC,CA7D2BhB,cAAc;AA+D1C,eAAeG,aAAa","names":["GroupComponent","getCirclePoint","__extends","ArcAnnotation","cfg","_super","getDefaultCfg","name","type","locationType","center","radius","startAngle","Math","PI","endAngle","style","stroke","lineWidth","group","renderArc","getLocation","startPoint","endPoint","largeFlag","path","x","y","middlePoint","push","getArcPath","get","addShape","id","getElementId","attrs"],"sources":["/home/iam/Documents/LocalWeb-master/node_modules/@antv/component/src/annotation/arc.ts"],"sourcesContent":["import { IGroup } from '@antv/g-base';\nimport GroupComponent from '../abstract/group-component';\nimport { ILocation } from '../interfaces';\nimport { ArcAnnotationCfg, CircleLocationCfg } from '../types';\nimport { getCirclePoint } from '../util/util';\n\nclass ArcAnnotation extends GroupComponent<ArcAnnotationCfg> implements ILocation<CircleLocationCfg> {\n  /**\n   * @protected\n   * 默认的配置项\n   * @returns {object} 默认的配置项\n   */\n  public getDefaultCfg() {\n    const cfg = super.getDefaultCfg();\n    return {\n      ...cfg,\n      name: 'annotation',\n      type: 'arc',\n      locationType: 'circle',\n      center: null,\n      radius: 100,\n      startAngle: -Math.PI / 2,\n      endAngle: (Math.PI * 3) / 2,\n      style: {\n        stroke: '#999',\n        lineWidth: 1,\n      },\n    };\n  }\n\n  protected renderInner(group: IGroup) {\n    this.renderArc(group);\n  }\n\n  private getArcPath() {\n    const { center, radius, startAngle, endAngle } = this.getLocation();\n    const startPoint = getCirclePoint(center, radius, startAngle);\n    const endPoint = getCirclePoint(center, radius, endAngle);\n    const largeFlag = endAngle - startAngle > Math.PI ? 1 : 0;\n\n    const path = [['M', startPoint.x, startPoint.y]];\n    if (endAngle - startAngle === Math.PI * 2) {\n      // 整个圆是分割成两个圆\n      const middlePoint = getCirclePoint(center, radius, startAngle + Math.PI);\n      path.push(['A', radius, radius, 0, largeFlag, 1, middlePoint.x, middlePoint.y]);\n      path.push(['A', radius, radius, 0, largeFlag, 1, endPoint.x, endPoint.y]);\n    } else {\n      path.push(['A', radius, radius, 0, largeFlag, 1, endPoint.x, endPoint.y]);\n    }\n    return path;\n  }\n\n  // 绘制 arc\n  private renderArc(group: IGroup) {\n    // 也可以 通过 get('center') 类似的方式逐个获取\n    const path = this.getArcPath();\n    const style = this.get('style');\n    this.addShape(group, {\n      type: 'path',\n      id: this.getElementId('arc'),\n      name: 'annotation-arc',\n      attrs: {\n        path,\n        ...style,\n      },\n    });\n  }\n}\n\nexport default ArcAnnotation;\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}