{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport G6 from '@antv/g6';\nimport { deepClone, Log } from '../../utils';\nvar defaultMinimapCfg = {\n  show: false,\n  size: [150, 100],\n  type: 'keyShape'\n};\nexport var getGraphSize = function getGraphSize(width, height, container) {\n  var CANVAS_WIDTH;\n  var CANVAS_HEIGHT;\n  if (container && container.current) {\n    CANVAS_WIDTH = container.current.offsetWidth;\n    CANVAS_HEIGHT = container.current.offsetHeight || 500;\n  }\n  if (!width && !CANVAS_WIDTH || !height && !CANVAS_HEIGHT) {\n    Log.warn('请为 Graph 指定 width 与 height！否则将使用默认值 500 * 500');\n    return [500, 500];\n  }\n  return [width || CANVAS_WIDTH || 500, height || CANVAS_HEIGHT || 500];\n};\nexport var renderMinimap = function renderMinimap(cfg, graph) {\n  if (!graph || graph.destroyed) return;\n  if (cfg && cfg.show) {\n    var curMminimapCfg = Object.assign(defaultMinimapCfg, cfg);\n    var minimap = new G6.Minimap(__assign({}, curMminimapCfg));\n    graph.addPlugin(minimap);\n    // return minimap;\n  }\n\n  return null;\n};\nvar uuid = function uuid() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0;\n    var v = c == 'x' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n};\n// 同一页面存在多 graph 时需要指定 graphId\nexport var getGraphId = function getGraphId(graph) {\n  if (graph.current) {\n    return graph.current;\n  }\n  graph.current = \"IndentedTreeGraph-\".concat(uuid());\n  return graph.current;\n};\nexport var renderGraph = function renderGraph(graph, data) {\n  var originData = deepClone(data);\n  graph.data(originData);\n  graph.render();\n};\n// 事件绑定，兼容历史数据\nexport var bindEvents = function bindEvents(graph, props) {\n  var handleEdgeClick = props.handleEdgeClick,\n    handleEdgeHover = props.handleEdgeHover,\n    handleEdgeUnHover = props.handleEdgeUnHover,\n    handleNodeClick = props.handleNodeClick,\n    handleNodeHover = props.handleNodeHover,\n    handleNodeUnHover = props.handleNodeUnHover,\n    handleCanvasClick = props.handleCanvasClick;\n  graph.on('edge:mouseenter', function (evt) {\n    var item = evt.item;\n    graph.setItemState(item, 'hover', true);\n    handleEdgeHover === null || handleEdgeHover === void 0 ? void 0 : handleEdgeHover(item, graph);\n  });\n  graph.on('edge:mouseleave', function (evt) {\n    var item = evt.item;\n    graph.setItemState(item, 'hover', false);\n    handleEdgeUnHover === null || handleEdgeUnHover === void 0 ? void 0 : handleEdgeUnHover(item, graph);\n  });\n  graph.on('edge:click', function (evt) {\n    var item = evt.item;\n    handleEdgeClick === null || handleEdgeClick === void 0 ? void 0 : handleEdgeClick(item, graph);\n  });\n  graph.on('edge:touchstart', function (evt) {\n    var item = evt.item;\n    handleEdgeClick === null || handleEdgeClick === void 0 ? void 0 : handleEdgeClick(item, graph);\n  });\n  graph.on('node:mouseenter', function (evt) {\n    var item = evt.item;\n    graph.setItemState(item, 'hover', true);\n    handleNodeHover === null || handleNodeHover === void 0 ? void 0 : handleNodeHover(item, graph);\n  });\n  graph.on('node:mouseleave', function (evt) {\n    var item = evt.item;\n    graph.setItemState(item, 'hover', false);\n    handleNodeUnHover === null || handleNodeUnHover === void 0 ? void 0 : handleNodeUnHover(item, graph);\n  });\n  graph.on('node:click', function (evt) {\n    var item = evt.item;\n    handleNodeClick === null || handleNodeClick === void 0 ? void 0 : handleNodeClick(item, graph);\n  });\n  graph.on('canvas:click', function () {\n    handleCanvasClick === null || handleCanvasClick === void 0 ? void 0 : handleCanvasClick(graph);\n  });\n  graph.on('canvas:touchstart', function () {\n    handleCanvasClick === null || handleCanvasClick === void 0 ? void 0 : handleCanvasClick(graph);\n  });\n};\n/**\n * 设置 props 默认值\n * props 会在对应图表和 hooks 里面使用，不想加个很长的赋值表达式。\n * layout 使用 merge\n */\nexport var useProps = function useProps(props, defaultProps) {\n  return __assign(__assign(__assign({}, defaultProps), props), {\n    layout: __assign(__assign({}, defaultProps === null || defaultProps === void 0 ? void 0 : defaultProps.layout), props === null || props === void 0 ? void 0 : props.layout)\n  });\n};","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","G6","deepClone","Log","defaultMinimapCfg","show","size","type","getGraphSize","width","height","container","CANVAS_WIDTH","CANVAS_HEIGHT","current","offsetWidth","offsetHeight","warn","renderMinimap","cfg","graph","destroyed","curMminimapCfg","minimap","Minimap","addPlugin","uuid","replace","c","r","Math","random","v","toString","getGraphId","concat","renderGraph","data","originData","render","bindEvents","props","handleEdgeClick","handleEdgeHover","handleEdgeUnHover","handleNodeClick","handleNodeHover","handleNodeUnHover","handleCanvasClick","on","evt","item","setItemState","useProps","defaultProps","layout"],"sources":["/home/iam/Documents/LocalWeb-master/node_modules/@ant-design/graphs/es/obsolescent/graph/utils.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport G6 from '@antv/g6';\nimport { deepClone, Log } from '../../utils';\nvar defaultMinimapCfg = {\n    show: false,\n    size: [150, 100],\n    type: 'keyShape',\n};\nexport var getGraphSize = function (width, height, container) {\n    var CANVAS_WIDTH;\n    var CANVAS_HEIGHT;\n    if (container && container.current) {\n        CANVAS_WIDTH = container.current.offsetWidth;\n        CANVAS_HEIGHT = container.current.offsetHeight || 500;\n    }\n    if ((!width && !CANVAS_WIDTH) || (!height && !CANVAS_HEIGHT)) {\n        Log.warn('请为 Graph 指定 width 与 height！否则将使用默认值 500 * 500');\n        return [500, 500];\n    }\n    return [width || CANVAS_WIDTH || 500, height || CANVAS_HEIGHT || 500];\n};\nexport var renderMinimap = function (cfg, graph) {\n    if (!graph || graph.destroyed)\n        return;\n    if (cfg && cfg.show) {\n        var curMminimapCfg = Object.assign(defaultMinimapCfg, cfg);\n        var minimap = new G6.Minimap(__assign({}, curMminimapCfg));\n        graph.addPlugin(minimap);\n        // return minimap;\n    }\n    return null;\n};\nvar uuid = function () {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        var r = (Math.random() * 16) | 0;\n        var v = c == 'x' ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n};\n// 同一页面存在多 graph 时需要指定 graphId\nexport var getGraphId = function (graph) {\n    if (graph.current) {\n        return graph.current;\n    }\n    graph.current = \"IndentedTreeGraph-\".concat(uuid());\n    return graph.current;\n};\nexport var renderGraph = function (graph, data) {\n    var originData = deepClone(data);\n    graph.data(originData);\n    graph.render();\n};\n// 事件绑定，兼容历史数据\nexport var bindEvents = function (graph, props) {\n    var handleEdgeClick = props.handleEdgeClick, handleEdgeHover = props.handleEdgeHover, handleEdgeUnHover = props.handleEdgeUnHover, handleNodeClick = props.handleNodeClick, handleNodeHover = props.handleNodeHover, handleNodeUnHover = props.handleNodeUnHover, handleCanvasClick = props.handleCanvasClick;\n    graph.on('edge:mouseenter', function (evt) {\n        var item = evt.item;\n        graph.setItemState(item, 'hover', true);\n        handleEdgeHover === null || handleEdgeHover === void 0 ? void 0 : handleEdgeHover(item, graph);\n    });\n    graph.on('edge:mouseleave', function (evt) {\n        var item = evt.item;\n        graph.setItemState(item, 'hover', false);\n        handleEdgeUnHover === null || handleEdgeUnHover === void 0 ? void 0 : handleEdgeUnHover(item, graph);\n    });\n    graph.on('edge:click', function (evt) {\n        var item = evt.item;\n        handleEdgeClick === null || handleEdgeClick === void 0 ? void 0 : handleEdgeClick(item, graph);\n    });\n    graph.on('edge:touchstart', function (evt) {\n        var item = evt.item;\n        handleEdgeClick === null || handleEdgeClick === void 0 ? void 0 : handleEdgeClick(item, graph);\n    });\n    graph.on('node:mouseenter', function (evt) {\n        var item = evt.item;\n        graph.setItemState(item, 'hover', true);\n        handleNodeHover === null || handleNodeHover === void 0 ? void 0 : handleNodeHover(item, graph);\n    });\n    graph.on('node:mouseleave', function (evt) {\n        var item = evt.item;\n        graph.setItemState(item, 'hover', false);\n        handleNodeUnHover === null || handleNodeUnHover === void 0 ? void 0 : handleNodeUnHover(item, graph);\n    });\n    graph.on('node:click', function (evt) {\n        var item = evt.item;\n        handleNodeClick === null || handleNodeClick === void 0 ? void 0 : handleNodeClick(item, graph);\n    });\n    graph.on('canvas:click', function () {\n        handleCanvasClick === null || handleCanvasClick === void 0 ? void 0 : handleCanvasClick(graph);\n    });\n    graph.on('canvas:touchstart', function () {\n        handleCanvasClick === null || handleCanvasClick === void 0 ? void 0 : handleCanvasClick(graph);\n    });\n};\n/**\n * 设置 props 默认值\n * props 会在对应图表和 hooks 里面使用，不想加个很长的赋值表达式。\n * layout 使用 merge\n */\nexport var useProps = function (props, defaultProps) {\n    return __assign(__assign(__assign({}, defaultProps), props), { layout: __assign(__assign({}, defaultProps === null || defaultProps === void 0 ? void 0 : defaultProps.layout), props === null || props === void 0 ? void 0 : props.layout) });\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}