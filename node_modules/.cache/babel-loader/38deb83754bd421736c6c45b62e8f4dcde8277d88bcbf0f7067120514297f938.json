{"ast":null,"code":"import _regeneratorRuntime from\"/home/iam/Documents/LocalWeb-master/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/iam/Documents/LocalWeb-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{DeleteOutlined,EditOutlined}from'@ant-design/icons';import{Table,Space,Button,Popconfirm,message}from'antd';import React from'react';import ubusApi from'service/api/ubus-api';import{useTranslation}from\"react-i18next\";import\"../../../../translations/i18n\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Router2Table=function Router2Table(props){var onEditItem=props.onEditItem,onDeleteItem=props.onDeleteItem,tableData=props.tableData,haha=props.haha;var _useTranslation=useTranslation(),t=_useTranslation.t;var abc=t('edit');var def=t('delete');var confirmDeleteGroup=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(group){var target,nexthop,metric,device,id,deleteRoute,key;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:target=group.target,nexthop=group.nexthop,metric=group.metric,device=group.device,id=group.id;_context.next=3;return ubusApi.config_network_static(\"del\",id,target,nexthop,metric,device);case 3:deleteRoute=_context.sent;key='updatable';message.loading({content:t('loading'),key:key});setTimeout(function(){message.success({content:t('success'),key:key,duration:2});},1000);setTimeout(function(){window.location.reload();},1500);return _context.abrupt(\"return\",onDeleteItem(group));case 9:case\"end\":return _context.stop();}}},_callee);}));return function confirmDeleteGroup(_x){return _ref.apply(this,arguments);};}();var columns=[{title:t('dest_network'),key:'target',dataIndex:'target'},{title:'GateWay',key:'nexthop',dataIndex:'nexthop'},{title:'Metric',key:'metric',dataIndex:'metric'},{title:t('device'),key:'device',dataIndex:'device'},{title:t('action'),key:'action',render:function render(_,record){if(record.admin_id<=0){return null;}return/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{icon:/*#__PURE__*/_jsx(EditOutlined,{}),title:abc,onClick:function onClick(){return onEditItem(record);}}),/*#__PURE__*/_jsx(Popconfirm,{placement:\"top\",title:t('delete_cf'),onConfirm:function onConfirm(){return confirmDeleteGroup(record);},okText:t('yes'),cancelText:t('no'),children:/*#__PURE__*/_jsx(Button,{icon:/*#__PURE__*/_jsx(DeleteOutlined,{}),danger:true,type:\"primary\",title:def})})]});}}];if(!haha){return/*#__PURE__*/_jsx(Table,{columns:columns,dataSource:haha,loading:true,style:{minWidth:400}});}else{return/*#__PURE__*/_jsx(Table,{columns:columns,dataSource:haha,style:{minWidth:400}});}};export var RouterTable=function RouterTable(props){var onEditItem=props.onEditItem,onDeleteItem=props.onDeleteItem,tableData=props.tableData,hihi=props.hihi;var _useTranslation2=useTranslation(),t=_useTranslation2.t;var abc=t('edit');var def=t('delete');var columns=[{title:t('dest_network'),key:'destination',dataIndex:'destination'},{title:'GateWay',key:'gateway',dataIndex:'gateway'},{title:'Netmask',key:'genmask',dataIndex:'genmask'},{title:t('Flags'),key:'flags',dataIndex:'flags'},{title:'Metric',key:'metric',dataIndex:'metric'},{title:'Ref',key:'ref',dataIndex:'ref'},{title:'Use',key:'use',dataIndex:'use'},{title:t('device'),key:'iface',dataIndex:'iface'}];if(!hihi){return/*#__PURE__*/_jsx(Table,{columns:columns,dataSource:hihi,loading:true,style:{minWidth:400}});}else{return/*#__PURE__*/_jsx(Table,{columns:columns,dataSource:hihi,style:{minWidth:400}});}};","map":{"version":3,"names":["DeleteOutlined","EditOutlined","Table","Space","Button","Popconfirm","message","React","ubusApi","useTranslation","Router2Table","props","onEditItem","onDeleteItem","tableData","haha","t","abc","def","confirmDeleteGroup","group","target","nexthop","metric","device","id","config_network_static","deleteRoute","key","loading","content","setTimeout","success","duration","window","location","reload","columns","title","dataIndex","render","_","record","admin_id","minWidth","RouterTable","hihi"],"sources":["/home/iam/Documents/LocalWeb-master/src/components/antd/internet/router/table.tsx"],"sourcesContent":["import { DeleteOutlined, EditOutlined } from '@ant-design/icons'\nimport { Table, Space, Button, Popconfirm, message } from 'antd'\nimport React from 'react'\nimport ubusApi from 'service/api/ubus-api'\nimport { useTranslation } from \"react-i18next\"\nimport \"../../../../translations/i18n\"\n\nexport const Router2Table = (props: any) => {\n  const { onEditItem, onDeleteItem, tableData, haha } = props\n  const { t } = useTranslation()\n  const abc = t('edit')\n  const def = t('delete')\n  const confirmDeleteGroup = async (group: any) => {\n    const { target, nexthop, metric, device ,id} = group\n    const deleteRoute = await ubusApi.config_network_static(\"del\", id, target, nexthop, metric, device)\n    const key = 'updatable';\n    message.loading({ content: t('loading'), key });\n    setTimeout(() => {\n      message.success({ content: t('success'), key, duration: 2 });\n    }, 1000);\n    setTimeout(() => {\n      window.location.reload()\n    }, 1500);\n    return onDeleteItem(group)\n  }\n  const columns = [\n    { title: t('dest_network'), key: 'target', dataIndex: 'target' }, \n    { title: 'GateWay', key: 'nexthop', dataIndex: 'nexthop' },\n    { title: 'Metric', key: 'metric', dataIndex: 'metric' },\n    { title: t('device'), key: 'device', dataIndex: 'device' },\n    {\n      title: t('action'),\n      key: 'action',\n      render: (_: string, record: any) => {\n          if (record.admin_id <= 0) {\n              return null\n          }\n          return (\n              <Space>\n                  <Button icon={<EditOutlined />} title={abc} onClick={() => onEditItem(record)} />\n                  <Popconfirm\n                      placement=\"top\"\n                      title={t('delete_cf')}\n                      onConfirm={() => confirmDeleteGroup(record)}\n                      okText={t('yes')}\n                      cancelText={t('no')}\n                  >\n                      <Button icon={<DeleteOutlined />} danger type=\"primary\" title={def} />\n                  </Popconfirm>\n              </Space>\n          )\n      },\n  },\n  ]\n  if (!haha) {\n    return (\n      <Table columns={columns} dataSource={haha} loading style={{ minWidth: 400 }} />\n    )\n  } else {\n    return (\n      <Table columns={columns} dataSource={haha} style={{ minWidth: 400 }} />\n    )\n  }\n}\n\nexport const RouterTable = (props: any) => {\n  const { onEditItem, onDeleteItem, tableData, hihi } = props\n  const { t } = useTranslation()\n  const abc = t('edit')\n  const def = t('delete')\n  const columns = [\n    { title: t('dest_network'), key: 'destination', dataIndex: 'destination' }, \n    { title: 'GateWay', key: 'gateway', dataIndex: 'gateway' },\n    { title: 'Netmask', key: 'genmask', dataIndex: 'genmask' },\n    { title: t('Flags'), key: 'flags', dataIndex: 'flags' },\n    { title: 'Metric', key: 'metric', dataIndex: 'metric' },\n    { title: 'Ref', key: 'ref', dataIndex: 'ref' },\n    { title: 'Use', key: 'use', dataIndex: 'use' },\n    { title: t('device'), key: 'iface', dataIndex: 'iface' },\n  ]\n  if (!hihi) {\n    return (\n      <Table columns={columns} dataSource={hihi} loading style={{ minWidth: 400 }} />\n    )\n  } else {\n    return (\n      <Table columns={columns} dataSource={hihi} style={{ minWidth: 400 }} />\n    )\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}