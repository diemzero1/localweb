{"ast":null,"code":"import _regeneratorRuntime from\"/home/iam/Documents/network/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/iam/Documents/network/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/iam/Documents/network/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Card,Col,Modal,Row}from\"antd\";import React from\"react\";import{LanEdit}from'components/antd/network/lan/edit';import{LanTable}from'components/antd/network/lan/table';import ubusApi from'service/api/ubus-api';import{useTranslation}from\"react-i18next\";import\"../../../translations/i18n\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Page=function Page(){var _useTranslation=useTranslation(),t=_useTranslation.t;var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),dhcpdata=_React$useState2[0],SetDhcpData=_React$useState2[1];var refreshData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var dataF;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return ubusApi.show_network_dhcp_leases();case 2:dataF=_context.sent;SetDhcpData(dataF.leases);case 4:case\"end\":return _context.stop();}}},_callee);}));return function refreshData(){return _ref.apply(this,arguments);};}();React.useEffect(function(){refreshData();},[]);//Fake call Api\nvar _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),value=_React$useState4[0],setValue=_React$useState4[1];var handleChange=function handleChange(value){return setValue(value);};var _React$useState5=React.useState(null),_React$useState6=_slicedToArray(_React$useState5,2),item=_React$useState6[0],setItem=_React$useState6[1];var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),showModal=_React$useState8[0],setShowModal=_React$useState8[1];var onEditItem=function onEditItem(group){if(group.name){setItem(Object.assign({},group));setShowModal(true);setValue('access');}else{setItem(Object.assign({},group));setShowModal(true);setValue('trunk');}};var onCreateItem=function onCreateItem(group){setItem({});setShowModal(true);};var onModalCancel=function onModalCancel(){setShowModal(false);setItem(null);};var onModalOk=function onModalOk(){setShowModal(false);};var onDone=function onDone(){setShowModal(false);setItem(null);};var showModalContent=function showModalContent(){if(!showModal){return null;}return/*#__PURE__*/_jsx(Modal,{width:900,open:true,onCancel:onModalCancel,onOk:onModalOk,footer:null,children:/*#__PURE__*/_jsx(Col,{span:23,children:/*#__PURE__*/_jsx(LanEdit,{item:item,onDone:onDone,value:value,handleChange:handleChange})})});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Row,{gutter:[24,10],children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Card,{title:t('config_lan_setting'),type:\"inner\",hoverable:true,headStyle:{background:\"linear-gradient(109.6deg, rgb(44, 83, 131), rgb(44, 83, 131) 18.9%, rgb(68, 124, 143), rgb(44, 83, 131) 91.1%, rgb(44, 83, 131))\",color:'white'},children:/*#__PURE__*/_jsx(\"div\",{style:{overflowX:'auto'},children:/*#__PURE__*/_jsx(LanEdit,{item:item,onDone:onDone,value:value,handleChange:handleChange})})})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Card,{title:t('allocated'),type:\"inner\",headStyle:{background:\"linear-gradient(109.6deg, rgb(44, 83, 131), rgb(44, 83, 131) 18.9%, rgb(68, 124, 143), rgb(44, 83, 131) 91.1%, rgb(44, 83, 131))\",color:'white'},children:/*#__PURE__*/_jsx(\"div\",{style:{overflowX:'auto'},children:/*#__PURE__*/_jsx(LanTable,{data1:dhcpdata})})})}),showModalContent()]})});};export default Page;","map":{"version":3,"names":["Card","Col","Modal","Row","React","LanEdit","LanTable","ubusApi","useTranslation","Page","t","useState","dhcpdata","SetDhcpData","refreshData","show_network_dhcp_leases","dataF","leases","useEffect","value","setValue","handleChange","item","setItem","showModal","setShowModal","onEditItem","group","name","Object","assign","onCreateItem","onModalCancel","onModalOk","onDone","showModalContent","background","color","overflowX"],"sources":["/home/iam/Documents/network/src/pages/network/lan/index.tsx"],"sourcesContent":["import AntdLayout from 'components/antd/layout'\nimport { Button, Card, Col, Modal, Row } from \"antd\"\nimport React from \"react\"\nimport { LanEdit } from 'components/antd/network/lan/edit'\nimport { LanTable } from 'components/antd/network/lan/table'\nimport ubusApi from 'service/api/ubus-api'\nimport { useTranslation } from \"react-i18next\"\nimport \"../../../translations/i18n\"\n\nconst Page = () => {\n    const { t } = useTranslation()\n    const [dhcpdata, SetDhcpData] = React.useState(null)\n    const refreshData = async () => {\n        const dataF = await ubusApi.show_network_dhcp_leases()\n        SetDhcpData(dataF.leases)\n    }\n    React.useEffect(() => {\n        refreshData()\n    }, [])\n\n    //Fake call Api\n\n    const [value, setValue] = React.useState('')\n    const handleChange = (value: any) => setValue(value)\n    const [item, setItem] = React.useState(null)\n    const [showModal, setShowModal] = React.useState(false)\n    const onEditItem = (group: any) => {\n        if (group.name) {\n            setItem(Object.assign({}, group))\n            setShowModal(true)\n            setValue('access')\n        } else {\n            setItem(Object.assign({}, group))\n            setShowModal(true)\n            setValue('trunk')\n        }\n    }\n    const onCreateItem = (group: any) => {\n        setItem({} as any)\n        setShowModal(true)\n    }\n    const onModalCancel = () => {\n        setShowModal(false)\n        setItem(null)\n    }\n    const onModalOk = () => {\n        setShowModal(false)\n    }\n    const onDone = () => {\n        setShowModal(false)\n        setItem(null)\n    }\n\n\n    const showModalContent = () => {\n        if (!showModal) {\n            return null\n        }\n        return (\n            <Modal width={900} open={true} onCancel={onModalCancel} onOk={onModalOk} footer={null}>\n                <Col span={23}>\n                    <LanEdit item={item}\n                        onDone={onDone} value={value} handleChange={handleChange} />\n\n                </Col>\n            </Modal>\n        )\n    }\n    return (\n        <div>\n            <Row gutter={[24, 10]}>\n                <Col span={12}>\n                <Card title={t('config_lan_setting')} type='inner' hoverable headStyle={{background:\"linear-gradient(109.6deg, rgb(44, 83, 131), rgb(44, 83, 131) 18.9%, rgb(68, 124, 143), rgb(44, 83, 131) 91.1%, rgb(44, 83, 131))\",color: 'white'}}>\n                    <div style={{ overflowX: 'auto' }}>\n                    <LanEdit item={item}\n                        onDone={onDone} value={value} handleChange={handleChange} />\n                    </div>\n                </Card>\n                </Col>\n                <br></br>\n                <Col span={12}>\n                    <Card title={t('allocated')} type='inner' headStyle={{background:\"linear-gradient(109.6deg, rgb(44, 83, 131), rgb(44, 83, 131) 18.9%, rgb(68, 124, 143), rgb(44, 83, 131) 91.1%, rgb(44, 83, 131))\",color: 'white'}}>\n                        <div style={{ overflowX: 'auto' }}>   \n                        <LanTable\n                            data1={dhcpdata}\n                        ></LanTable>\n                        </div>\n                    </Card>\n                </Col>\n                {showModalContent()}\n            </Row>\n        </div>\n\n    )\n}\nexport default Page\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}